ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.arch armv6s-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.file	"simcomAT.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SimA7670C_Response,"ax",%progbits
  18              		.align	1
  19              		.global	SimA7670C_Response
  20              		.syntax unified
  21              		.code	16
  22              		.thumb_func
  24              	SimA7670C_Response:
  25              	.LVL0:
  26              	.LFB313:
  27              		.file 1 "Src/simcomAT.c"
   1:Src/simcomAT.c **** #include "simcomAT.h"
   2:Src/simcomAT.c **** #include <stdio.h>
   3:Src/simcomAT.c **** #include <stdlib.h>
   4:Src/simcomAT.c **** #include <string.h>
   5:Src/simcomAT.c **** 
   6:Src/simcomAT.c **** #ifdef __SIM7020E__
   7:Src/simcomAT.c **** SIM7020E_StatusTypeDef Sim7020E_Response(uint8_t *recv_buf, uint8_t *content, uint16_t timeout)
   8:Src/simcomAT.c **** {
   9:Src/simcomAT.c **** 	while(1)
  10:Src/simcomAT.c **** 	{
  11:Src/simcomAT.c **** 		uint8_t *_pStr = (uint8_t*)strstr((char*)recv_buf, (char*)content); 
  12:Src/simcomAT.c **** 		if(_pStr != 0) return SIM7020E_OK;
  13:Src/simcomAT.c **** 
  14:Src/simcomAT.c **** 		HAL_Delay(1); 
  15:Src/simcomAT.c **** 		timeout--;
  16:Src/simcomAT.c **** 		if(timeout == 0) return SIM7020E_ERROR; 
  17:Src/simcomAT.c **** 	}
  18:Src/simcomAT.c **** }
  19:Src/simcomAT.c **** 
  20:Src/simcomAT.c **** void Sim7020E_Echo(UART_HandleTypeDef huart, uint8_t ctrl)
  21:Src/simcomAT.c **** {
  22:Src/simcomAT.c **** 	switch(ctrl)
  23:Src/simcomAT.c **** 	{
  24:Src/simcomAT.c **** 		case ENABLE:
  25:Src/simcomAT.c **** 			HAL_UART_Transmit(&huart, (uint8_t*)"ATE1\r\n", strlen("ATE1\r\n"), 100); 
  26:Src/simcomAT.c **** 			
  27:Src/simcomAT.c **** 			HAL_Delay(_ms_); 
  28:Src/simcomAT.c **** 			break; 
  29:Src/simcomAT.c **** 		
  30:Src/simcomAT.c **** 		case DISABLE:
  31:Src/simcomAT.c **** 			HAL_UART_Transmit(&huart, (uint8_t*)"ATE0\r\n", strlen("ATE0\r\n"), 100); 
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 2


  32:Src/simcomAT.c **** 			
  33:Src/simcomAT.c **** 			HAL_Delay(_ms_); 
  34:Src/simcomAT.c **** 			break; 
  35:Src/simcomAT.c **** 	}
  36:Src/simcomAT.c **** }
  37:Src/simcomAT.c **** 
  38:Src/simcomAT.c **** // "0" mqtt id (0-4), "3" MQTT 3.1, "clientId", "300" keepalive 60*5 = 600s, "1" cleanseason, "0" w
  39:Src/simcomAT.c **** void Sim7020E_Mqtt_UserConfig(UART_HandleTypeDef huart, uint8_t *id, uint8_t *username, uint8_t *pa
  40:Src/simcomAT.c **** {
  41:Src/simcomAT.c **** 	uint8_t messages[300];
  42:Src/simcomAT.c **** 	sprintf((char*)messages, "AT+CMQCON=0,3,\"%s\",300,1,0,\"%s\",\"%s\"\r\n", id, username, password)
  43:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, messages, strlen((char*)messages), 100); 
  44:Src/simcomAT.c **** 
  45:Src/simcomAT.c ****   	HAL_Delay(_ms_); 
  46:Src/simcomAT.c **** }
  47:Src/simcomAT.c **** 
  48:Src/simcomAT.c **** // "host", "port", "6000" time out, "1000", bufsize
  49:Src/simcomAT.c **** void Sim7020E_Mqtt_Connect_Broker(UART_HandleTypeDef huart, uint8_t *host, uint16_t port)
  50:Src/simcomAT.c **** {
  51:Src/simcomAT.c **** 	uint8_t messages[300];
  52:Src/simcomAT.c **** 	sprintf((char*)messages, "AT+CMQNEW=\"%s\",\"%d\",6000,1000\r\n", host, port);
  53:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, messages, strlen((char*)messages), 100);
  54:Src/simcomAT.c **** 
  55:Src/simcomAT.c ****   	HAL_Delay(_ms_); 
  56:Src/simcomAT.c **** }
  57:Src/simcomAT.c **** 
  58:Src/simcomAT.c **** //"0" is mqtt id normal working only 1 MQTT open at same time
  59:Src/simcomAT.c **** void Sim7020E_Mqtt_Disconnect_Broker(UART_HandleTypeDef huart)
  60:Src/simcomAT.c **** {
  61:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, (uint8_t*)"AT+CMQDISCON=0\r\n", strlen("AT+CMQDISCON=0\r\n"), 100);
  62:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
  63:Src/simcomAT.c **** }
  64:Src/simcomAT.c **** 
  65:Src/simcomAT.c **** //"0" is mqtt id normal working only 1 MQTT open at same time, "1": QoS
  66:Src/simcomAT.c **** void Sim7020E_Mqtt_Subscribe(UART_HandleTypeDef huart, uint8_t *topic)
  67:Src/simcomAT.c **** {
  68:Src/simcomAT.c **** 	uint8_t messages[200];
  69:Src/simcomAT.c **** 	sprintf((char*)messages, "AT+CMQSUB=0,\"%s\",1\r\n", topic);
  70:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, messages, strlen((char*)messages), 100); 
  71:Src/simcomAT.c ****   	HAL_Delay(_ms_); 
  72:Src/simcomAT.c **** }
  73:Src/simcomAT.c **** 
  74:Src/simcomAT.c **** //"0" is mqtt id normal working only 1 MQTT open at same time, "1": QoS
  75:Src/simcomAT.c **** void Sim7020E_Mqtt_Publish(UART_HandleTypeDef huart, uint8_t *topic, uint8_t *msg)
  76:Src/simcomAT.c **** {
  77:Src/simcomAT.c **** 	uint8_t data2send[500];
  78:Src/simcomAT.c **** 	uint8_t messages[1000];
  79:Src/simcomAT.c **** 
  80:Src/simcomAT.c **** 	for (uint16_t i = 0; i < strlen((char*)msg); i++)
  81:Src/simcomAT.c **** 	{
  82:Src/simcomAT.c **** 		char temp[2]; //2 hex
  83:Src/simcomAT.c **** 		sprintf(temp, "%02X", msg[i]);
  84:Src/simcomAT.c **** 		strcat((char*)data2send, temp );
  85:Src/simcomAT.c **** 	}
  86:Src/simcomAT.c **** 	sprintf((char*)messages, "AT+CMQPUB=0,\"%s\",1,0,0,%d,\"%s\"\r\n",topic, strlen((char*)data2send),
  87:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, messages, strlen((char*)messages), 100); 
  88:Src/simcomAT.c **** 
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 3


  89:Src/simcomAT.c **** 	//for (uint16_t i = 0; i < 500; i++) data2send[i] = '\0';
  90:Src/simcomAT.c **** }
  91:Src/simcomAT.c **** 
  92:Src/simcomAT.c **** #else 
  93:Src/simcomAT.c **** 
  94:Src/simcomAT.c **** SIMA7670C_StatusTypeDef SimA7670C_Response(uint8_t *recv_buf, uint8_t *content, uint16_t timeout)
  95:Src/simcomAT.c **** {
  28              		.loc 1 95 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 95 1 is_stmt 0 view .LVU1
  33 0000 70B5     		push	{r4, r5, r6, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 4, -16
  37              		.cfi_offset 5, -12
  38              		.cfi_offset 6, -8
  39              		.cfi_offset 14, -4
  40 0002 0600     		movs	r6, r0
  41 0004 0D00     		movs	r5, r1
  42 0006 1400     		movs	r4, r2
  43              	.LVL1:
  44              	.L3:
  96:Src/simcomAT.c **** 	while(1)
  45              		.loc 1 96 2 is_stmt 1 view .LVU2
  46              	.LBB2:
  97:Src/simcomAT.c **** 	{
  98:Src/simcomAT.c **** 		uint8_t *_pStr = (uint8_t*)strstr((char*)recv_buf, (char*)content); 
  47              		.loc 1 98 3 view .LVU3
  48              		.loc 1 98 30 is_stmt 0 view .LVU4
  49 0008 2900     		movs	r1, r5
  50 000a 3000     		movs	r0, r6
  51 000c FFF7FEFF 		bl	strstr
  52              	.LVL2:
  99:Src/simcomAT.c **** 		if(_pStr != 0) return SIMA7670C_OK;
  53              		.loc 1 99 3 is_stmt 1 view .LVU5
  54              		.loc 1 99 5 is_stmt 0 view .LVU6
  55 0010 0028     		cmp	r0, #0
  56 0012 08D1     		bne	.L4
 100:Src/simcomAT.c **** 
 101:Src/simcomAT.c **** 		HAL_Delay(1); 
  57              		.loc 1 101 3 is_stmt 1 view .LVU7
  58 0014 0130     		adds	r0, r0, #1
  59              	.LVL3:
  60              		.loc 1 101 3 is_stmt 0 view .LVU8
  61 0016 FFF7FEFF 		bl	HAL_Delay
  62              	.LVL4:
 102:Src/simcomAT.c **** 		timeout--;
  63              		.loc 1 102 3 is_stmt 1 view .LVU9
  64              		.loc 1 102 10 is_stmt 0 view .LVU10
  65 001a 013C     		subs	r4, r4, #1
  66              	.LVL5:
  67              		.loc 1 102 10 view .LVU11
  68 001c A4B2     		uxth	r4, r4
  69              	.LVL6:
 103:Src/simcomAT.c **** 		if(timeout == 0) return SIMA7670C_ERROR; 
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 4


  70              		.loc 1 103 3 is_stmt 1 view .LVU12
  71              		.loc 1 103 5 is_stmt 0 view .LVU13
  72 001e 002C     		cmp	r4, #0
  73 0020 F2D1     		bne	.L3
  74              		.loc 1 103 27 view .LVU14
  75 0022 0020     		movs	r0, #0
  76 0024 00E0     		b	.L2
  77              	.LVL7:
  78              	.L4:
  99:Src/simcomAT.c **** 
  79              		.loc 1 99 25 view .LVU15
  80 0026 0120     		movs	r0, #1
  81              	.LVL8:
  82              	.L2:
  99:Src/simcomAT.c **** 
  83              		.loc 1 99 25 view .LVU16
  84              	.LBE2:
 104:Src/simcomAT.c **** 	}
 105:Src/simcomAT.c **** }
  85              		.loc 1 105 1 view .LVU17
  86              		@ sp needed
  87              	.LVL9:
  88              	.LVL10:
  89              	.LVL11:
  90              		.loc 1 105 1 view .LVU18
  91 0028 70BD     		pop	{r4, r5, r6, pc}
  92              		.cfi_endproc
  93              	.LFE313:
  95              		.section	.rodata.RSSI_Sim4GLTE.str1.4,"aMS",%progbits,1
  96              		.align	2
  97              	.LC0:
  98 0000 41542B43 		.ascii	"AT+CSQ\015\012\000"
  98      53510D0A 
  98      00
  99              		.section	.text.RSSI_Sim4GLTE,"ax",%progbits
 100              		.align	1
 101              		.global	RSSI_Sim4GLTE
 102              		.syntax unified
 103              		.code	16
 104              		.thumb_func
 106              	RSSI_Sim4GLTE:
 107              	.LVL12:
 108              	.LFB314:
 106:Src/simcomAT.c **** 
 107:Src/simcomAT.c **** int8_t RSSI_Sim4GLTE(UART_HandleTypeDef huart, uint8_t *recv_buf)
 108:Src/simcomAT.c **** {
 109              		.loc 1 108 1 is_stmt 1 view -0
 110              		.cfi_startproc
 111              		@ args = 152, pretend = 16, frame = 0
 112              		@ frame_needed = 0, uses_anonymous_args = 0
 113              		.loc 1 108 1 is_stmt 0 view .LVU20
 114 0000 84B0     		sub	sp, sp, #16
 115              	.LCFI1:
 116              		.cfi_def_cfa_offset 16
 117 0002 70B5     		push	{r4, r5, r6, lr}
 118              	.LCFI2:
 119              		.cfi_def_cfa_offset 32
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 5


 120              		.cfi_offset 4, -32
 121              		.cfi_offset 5, -28
 122              		.cfi_offset 6, -24
 123              		.cfi_offset 14, -20
 124 0004 0490     		str	r0, [sp, #16]
 125 0006 0591     		str	r1, [sp, #20]
 126 0008 0692     		str	r2, [sp, #24]
 127 000a 0793     		str	r3, [sp, #28]
 109:Src/simcomAT.c **** 	uint8_t *pStr_Analysis = 0; 
 128              		.loc 1 109 2 is_stmt 1 view .LVU21
 129              	.LVL13:
 110:Src/simcomAT.c **** 	uint8_t *temp = 0; 
 130              		.loc 1 110 2 view .LVU22
 111:Src/simcomAT.c **** 	int8_t val = 0; 
 131              		.loc 1 111 2 view .LVU23
 112:Src/simcomAT.c **** 
 113:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, (uint8_t*)"AT+CSQ\r\n", strlen("AT+CSQ\r\n"), 100); 
 132              		.loc 1 113 2 view .LVU24
 133 000c 6423     		movs	r3, #100
 134 000e 0822     		movs	r2, #8
 135 0010 1149     		ldr	r1, .L10
 136 0012 04A8     		add	r0, sp, #16
 137 0014 FFF7FEFF 		bl	HAL_UART_Transmit
 138              	.LVL14:
 114:Src/simcomAT.c **** 	HAL_Delay(1000); 
 139              		.loc 1 114 2 view .LVU25
 140 0018 FA20     		movs	r0, #250
 141 001a 8000     		lsls	r0, r0, #2
 142 001c FFF7FEFF 		bl	HAL_Delay
 143              	.LVL15:
 115:Src/simcomAT.c **** 
 116:Src/simcomAT.c **** 	// +1 Remove string ": "
 117:Src/simcomAT.c **** 	pStr_Analysis = (uint8_t*)strstr((char*)recv_buf, ":") + 1; 
 144              		.loc 1 117 2 view .LVU26
 145              		.loc 1 117 28 is_stmt 0 view .LVU27
 146 0020 3A21     		movs	r1, #58
 147 0022 2998     		ldr	r0, [sp, #164]
 148 0024 FFF7FEFF 		bl	strchr
 149              	.LVL16:
 150              		.loc 1 117 16 view .LVU28
 151 0028 451C     		adds	r5, r0, #1
 152              	.LVL17:
 118:Src/simcomAT.c **** 	for(uint8_t i = 0; i < strlen((char*)pStr_Analysis); i++)
 153              		.loc 1 118 2 is_stmt 1 view .LVU29
 154              	.LBB3:
 155              		.loc 1 118 6 view .LVU30
 156              		.loc 1 118 14 is_stmt 0 view .LVU31
 157 002a 0024     		movs	r4, #0
 158              		.loc 1 118 2 view .LVU32
 159 002c 02E0     		b	.L6
 160              	.LVL18:
 161              	.L9:
 119:Src/simcomAT.c **** 	{
 120:Src/simcomAT.c **** 		if(pStr_Analysis[i] == ',') break; 
 121:Src/simcomAT.c **** 		else temp[i] = pStr_Analysis[i]; 
 162              		.loc 1 121 8 is_stmt 1 discriminator 2 view .LVU33
 163              		.loc 1 121 16 is_stmt 0 discriminator 2 view .LVU34
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 6


 164 002e 3370     		strb	r3, [r6]
 118:Src/simcomAT.c **** 	for(uint8_t i = 0; i < strlen((char*)pStr_Analysis); i++)
 165              		.loc 1 118 55 is_stmt 1 discriminator 2 view .LVU35
 118:Src/simcomAT.c **** 	for(uint8_t i = 0; i < strlen((char*)pStr_Analysis); i++)
 166              		.loc 1 118 56 is_stmt 0 discriminator 2 view .LVU36
 167 0030 0134     		adds	r4, r4, #1
 168              	.LVL19:
 118:Src/simcomAT.c **** 	for(uint8_t i = 0; i < strlen((char*)pStr_Analysis); i++)
 169              		.loc 1 118 56 discriminator 2 view .LVU37
 170 0032 E4B2     		uxtb	r4, r4
 171              	.LVL20:
 172              	.L6:
 118:Src/simcomAT.c **** 	for(uint8_t i = 0; i < strlen((char*)pStr_Analysis); i++)
 173              		.loc 1 118 21 is_stmt 1 discriminator 1 view .LVU38
 118:Src/simcomAT.c **** 	for(uint8_t i = 0; i < strlen((char*)pStr_Analysis); i++)
 174              		.loc 1 118 23 is_stmt 0 discriminator 1 view .LVU39
 175 0034 2600     		movs	r6, r4
 118:Src/simcomAT.c **** 	for(uint8_t i = 0; i < strlen((char*)pStr_Analysis); i++)
 176              		.loc 1 118 25 discriminator 1 view .LVU40
 177 0036 2800     		movs	r0, r5
 178 0038 FFF7FEFF 		bl	strlen
 179              	.LVL21:
 118:Src/simcomAT.c **** 	for(uint8_t i = 0; i < strlen((char*)pStr_Analysis); i++)
 180              		.loc 1 118 2 discriminator 1 view .LVU41
 181 003c 8442     		cmp	r4, r0
 182 003e 02D2     		bcs	.L7
 120:Src/simcomAT.c **** 		else temp[i] = pStr_Analysis[i]; 
 183              		.loc 1 120 3 is_stmt 1 view .LVU42
 120:Src/simcomAT.c **** 		else temp[i] = pStr_Analysis[i]; 
 184              		.loc 1 120 19 is_stmt 0 view .LVU43
 185 0040 2B5D     		ldrb	r3, [r5, r4]
 120:Src/simcomAT.c **** 		else temp[i] = pStr_Analysis[i]; 
 186              		.loc 1 120 5 view .LVU44
 187 0042 2C2B     		cmp	r3, #44
 188 0044 F3D1     		bne	.L9
 189              	.L7:
 190              	.LBE3:
 122:Src/simcomAT.c **** 	}
 123:Src/simcomAT.c **** 
 124:Src/simcomAT.c **** 	// Convert 'str' type to 'int' type 
 125:Src/simcomAT.c **** 	val = (int8_t)atoi((char*)temp);
 191              		.loc 1 125 2 is_stmt 1 view .LVU45
 192              		.loc 1 125 16 is_stmt 0 view .LVU46
 193 0046 0020     		movs	r0, #0
 194 0048 FFF7FEFF 		bl	atoi
 195              	.LVL22:
 196              		.loc 1 125 6 view .LVU47
 197 004c 40B2     		sxtb	r0, r0
 198              	.LVL23:
 126:Src/simcomAT.c **** 	return val; 
 199              		.loc 1 126 2 is_stmt 1 view .LVU48
 127:Src/simcomAT.c **** }
 200              		.loc 1 127 1 is_stmt 0 view .LVU49
 201              		@ sp needed
 202              	.LVL24:
 203              	.LVL25:
 204              		.loc 1 127 1 view .LVU50
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 7


 205 004e 70BC     		pop	{r4, r5, r6}
 206 0050 08BC     		pop	{r3}
 207 0052 04B0     		add	sp, sp, #16
 208 0054 1847     		bx	r3
 209              	.L11:
 210 0056 C046     		.align	2
 211              	.L10:
 212 0058 00000000 		.word	.LC0
 213              		.cfi_endproc
 214              	.LFE314:
 216              		.section	.rodata.Is_Insert_Sim_Card.str1.4,"aMS",%progbits,1
 217              		.align	2
 218              	.LC2:
 219 0000 41542B43 		.ascii	"AT+CPIN?\015\012\000"
 219      50494E3F 
 219      0D0A00
 220              		.section	.text.Is_Insert_Sim_Card,"ax",%progbits
 221              		.align	1
 222              		.global	Is_Insert_Sim_Card
 223              		.syntax unified
 224              		.code	16
 225              		.thumb_func
 227              	Is_Insert_Sim_Card:
 228              	.LFB315:
 128:Src/simcomAT.c **** 
 129:Src/simcomAT.c **** void Is_Insert_Sim_Card(UART_HandleTypeDef huart) 
 130:Src/simcomAT.c **** {
 229              		.loc 1 130 1 is_stmt 1 view -0
 230              		.cfi_startproc
 231              		@ args = 148, pretend = 16, frame = 0
 232              		@ frame_needed = 0, uses_anonymous_args = 0
 233 0000 84B0     		sub	sp, sp, #16
 234              	.LCFI3:
 235              		.cfi_def_cfa_offset 16
 236 0002 10B5     		push	{r4, lr}
 237              	.LCFI4:
 238              		.cfi_def_cfa_offset 24
 239              		.cfi_offset 4, -24
 240              		.cfi_offset 14, -20
 241 0004 0290     		str	r0, [sp, #8]
 242 0006 0391     		str	r1, [sp, #12]
 243 0008 0492     		str	r2, [sp, #16]
 244 000a 0593     		str	r3, [sp, #20]
 131:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, (uint8_t*)"AT+CPIN?\r\n", strlen("AT+CPIN?\r\n"), 100); 
 245              		.loc 1 131 2 view .LVU52
 246 000c 6423     		movs	r3, #100
 247 000e 0A22     		movs	r2, #10
 248 0010 0549     		ldr	r1, .L13
 249 0012 02A8     		add	r0, sp, #8
 250 0014 FFF7FEFF 		bl	HAL_UART_Transmit
 251              	.LVL26:
 132:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 252              		.loc 1 132 2 view .LVU53
 253 0018 6420     		movs	r0, #100
 254 001a FFF7FEFF 		bl	HAL_Delay
 255              	.LVL27:
 133:Src/simcomAT.c **** }
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 8


 256              		.loc 1 133 1 is_stmt 0 view .LVU54
 257              		@ sp needed
 258 001e 10BC     		pop	{r4}
 259 0020 08BC     		pop	{r3}
 260 0022 04B0     		add	sp, sp, #16
 261 0024 1847     		bx	r3
 262              	.L14:
 263 0026 C046     		.align	2
 264              	.L13:
 265 0028 00000000 		.word	.LC2
 266              		.cfi_endproc
 267              	.LFE315:
 269              		.section	.rodata.SimA7670C_Reset.str1.4,"aMS",%progbits,1
 270              		.align	2
 271              	.LC4:
 272 0000 41542B43 		.ascii	"AT+CRESET\015\012\000"
 272      52455345 
 272      540D0A00 
 273              		.section	.text.SimA7670C_Reset,"ax",%progbits
 274              		.align	1
 275              		.global	SimA7670C_Reset
 276              		.syntax unified
 277              		.code	16
 278              		.thumb_func
 280              	SimA7670C_Reset:
 281              	.LFB316:
 134:Src/simcomAT.c **** 
 135:Src/simcomAT.c **** void SimA7670C_Reset(UART_HandleTypeDef huart)
 136:Src/simcomAT.c **** {
 282              		.loc 1 136 1 is_stmt 1 view -0
 283              		.cfi_startproc
 284              		@ args = 148, pretend = 16, frame = 0
 285              		@ frame_needed = 0, uses_anonymous_args = 0
 286 0000 84B0     		sub	sp, sp, #16
 287              	.LCFI5:
 288              		.cfi_def_cfa_offset 16
 289 0002 10B5     		push	{r4, lr}
 290              	.LCFI6:
 291              		.cfi_def_cfa_offset 24
 292              		.cfi_offset 4, -24
 293              		.cfi_offset 14, -20
 294 0004 0290     		str	r0, [sp, #8]
 295 0006 0391     		str	r1, [sp, #12]
 296 0008 0492     		str	r2, [sp, #16]
 297 000a 0593     		str	r3, [sp, #20]
 137:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, (uint8_t*)"AT+CRESET\r\n", strlen("AT+CRESET\r\n"), 100); 
 298              		.loc 1 137 2 view .LVU56
 299 000c 0B4C     		ldr	r4, .L16
 300 000e 6423     		movs	r3, #100
 301 0010 0B22     		movs	r2, #11
 302 0012 2100     		movs	r1, r4
 303 0014 02A8     		add	r0, sp, #8
 304 0016 FFF7FEFF 		bl	HAL_UART_Transmit
 305              	.LVL28:
 138:Src/simcomAT.c **** 	HAL_Delay(1000); 
 306              		.loc 1 138 2 view .LVU57
 307 001a FA20     		movs	r0, #250
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 9


 308 001c 8000     		lsls	r0, r0, #2
 309 001e FFF7FEFF 		bl	HAL_Delay
 310              	.LVL29:
 139:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, (uint8_t*)"AT+CRESET\r\n", strlen("AT+CRESET\r\n"), 100); 
 311              		.loc 1 139 2 view .LVU58
 312 0022 6423     		movs	r3, #100
 313 0024 0B22     		movs	r2, #11
 314 0026 2100     		movs	r1, r4
 315 0028 02A8     		add	r0, sp, #8
 316 002a FFF7FEFF 		bl	HAL_UART_Transmit
 317              	.LVL30:
 140:Src/simcomAT.c **** 
 141:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 318              		.loc 1 141 2 view .LVU59
 319 002e 6420     		movs	r0, #100
 320 0030 FFF7FEFF 		bl	HAL_Delay
 321              	.LVL31:
 142:Src/simcomAT.c **** }
 322              		.loc 1 142 1 is_stmt 0 view .LVU60
 323              		@ sp needed
 324 0034 10BC     		pop	{r4}
 325 0036 08BC     		pop	{r3}
 326 0038 04B0     		add	sp, sp, #16
 327 003a 1847     		bx	r3
 328              	.L17:
 329              		.align	2
 330              	.L16:
 331 003c 00000000 		.word	.LC4
 332              		.cfi_endproc
 333              	.LFE316:
 335              		.section	.rodata.SimA7670C_Echo.str1.4,"aMS",%progbits,1
 336              		.align	2
 337              	.LC6:
 338 0000 41544531 		.ascii	"ATE1\015\012\000"
 338      0D0A00
 339 0007 00       		.align	2
 340              	.LC8:
 341 0008 41544530 		.ascii	"ATE0\015\012\000"
 341      0D0A00
 342              		.section	.text.SimA7670C_Echo,"ax",%progbits
 343              		.align	1
 344              		.global	SimA7670C_Echo
 345              		.syntax unified
 346              		.code	16
 347              		.thumb_func
 349              	SimA7670C_Echo:
 350              	.LVL32:
 351              	.LFB317:
 143:Src/simcomAT.c **** 
 144:Src/simcomAT.c **** void SimA7670C_Echo(UART_HandleTypeDef huart, StateTypeDef ctrl)
 145:Src/simcomAT.c **** {
 352              		.loc 1 145 1 is_stmt 1 view -0
 353              		.cfi_startproc
 354              		@ args = 152, pretend = 16, frame = 0
 355              		@ frame_needed = 0, uses_anonymous_args = 0
 356              		.loc 1 145 1 is_stmt 0 view .LVU62
 357 0000 84B0     		sub	sp, sp, #16
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 10


 358              	.LCFI7:
 359              		.cfi_def_cfa_offset 16
 360 0002 10B5     		push	{r4, lr}
 361              	.LCFI8:
 362              		.cfi_def_cfa_offset 24
 363              		.cfi_offset 4, -24
 364              		.cfi_offset 14, -20
 365 0004 0290     		str	r0, [sp, #8]
 366 0006 0391     		str	r1, [sp, #12]
 367 0008 0492     		str	r2, [sp, #16]
 368 000a 0593     		str	r3, [sp, #20]
 369 000c 27AB     		add	r3, sp, #156
 370 000e 1B78     		ldrb	r3, [r3]
 146:Src/simcomAT.c **** 	switch(ctrl)
 371              		.loc 1 146 2 is_stmt 1 view .LVU63
 372 0010 002B     		cmp	r3, #0
 373 0012 0ED0     		beq	.L19
 374 0014 012B     		cmp	r3, #1
 375 0016 05D1     		bne	.L20
 147:Src/simcomAT.c **** 	{
 148:Src/simcomAT.c **** 		case ECHO_ENABLE:
 149:Src/simcomAT.c **** 			HAL_UART_Transmit(&huart, (uint8_t*)"ATE1\r\n", strlen("ATE1\r\n"), 100); 
 376              		.loc 1 149 4 view .LVU64
 377 0018 6333     		adds	r3, r3, #99
 378 001a 0622     		movs	r2, #6
 379 001c 0849     		ldr	r1, .L21
 380 001e 02A8     		add	r0, sp, #8
 381 0020 FFF7FEFF 		bl	HAL_UART_Transmit
 382              	.LVL33:
 150:Src/simcomAT.c **** 			break; 
 383              		.loc 1 150 4 view .LVU65
 384              	.L20:
 151:Src/simcomAT.c **** 		
 152:Src/simcomAT.c **** 		case ECHO_DISABLE:
 153:Src/simcomAT.c **** 			HAL_UART_Transmit(&huart, (uint8_t*)"ATE0\r\n", strlen("ATE0\r\n"), 100); 
 154:Src/simcomAT.c **** 			break; 
 155:Src/simcomAT.c **** 	}
 156:Src/simcomAT.c **** 
 157:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 385              		.loc 1 157 2 view .LVU66
 386 0024 6420     		movs	r0, #100
 387 0026 FFF7FEFF 		bl	HAL_Delay
 388              	.LVL34:
 158:Src/simcomAT.c **** }
 389              		.loc 1 158 1 is_stmt 0 view .LVU67
 390              		@ sp needed
 391 002a 10BC     		pop	{r4}
 392 002c 08BC     		pop	{r3}
 393 002e 04B0     		add	sp, sp, #16
 394 0030 1847     		bx	r3
 395              	.L19:
 153:Src/simcomAT.c **** 			break; 
 396              		.loc 1 153 4 is_stmt 1 view .LVU68
 397 0032 6423     		movs	r3, #100
 398 0034 0622     		movs	r2, #6
 399 0036 0349     		ldr	r1, .L21+4
 400 0038 02A8     		add	r0, sp, #8
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 11


 401 003a FFF7FEFF 		bl	HAL_UART_Transmit
 402              	.LVL35:
 154:Src/simcomAT.c **** 	}
 403              		.loc 1 154 4 view .LVU69
 404 003e F1E7     		b	.L20
 405              	.L22:
 406              		.align	2
 407              	.L21:
 408 0040 00000000 		.word	.LC6
 409 0044 08000000 		.word	.LC8
 410              		.cfi_endproc
 411              	.LFE317:
 413              		.section	.rodata.SimA7670C_PDP_Context_Config.str1.4,"aMS",%progbits,1
 414              		.align	2
 415              	.LC10:
 416 0000 41542B43 		.ascii	"AT+CGDCONT=%d,\"%s\",\"APN\"\015\012\000"
 416      4744434F 
 416      4E543D25 
 416      642C2225 
 416      73222C22 
 417              		.section	.text.SimA7670C_PDP_Context_Config,"ax",%progbits
 418              		.align	1
 419              		.global	SimA7670C_PDP_Context_Config
 420              		.syntax unified
 421              		.code	16
 422              		.thumb_func
 424              	SimA7670C_PDP_Context_Config:
 425              	.LVL36:
 426              	.LFB318:
 159:Src/simcomAT.c **** 
 160:Src/simcomAT.c **** void SimA7670C_PDP_Context_Config(UART_HandleTypeDef huart, uint8_t identifier, uint8_t *pdp_type)
 161:Src/simcomAT.c **** {
 427              		.loc 1 161 1 view -0
 428              		.cfi_startproc
 429              		@ args = 156, pretend = 16, frame = 40
 430              		@ frame_needed = 0, uses_anonymous_args = 0
 431              		.loc 1 161 1 is_stmt 0 view .LVU71
 432 0000 84B0     		sub	sp, sp, #16
 433              	.LCFI9:
 434              		.cfi_def_cfa_offset 16
 435 0002 00B5     		push	{lr}
 436              	.LCFI10:
 437              		.cfi_def_cfa_offset 20
 438              		.cfi_offset 14, -20
 439 0004 8BB0     		sub	sp, sp, #44
 440              	.LCFI11:
 441              		.cfi_def_cfa_offset 64
 442 0006 0C90     		str	r0, [sp, #48]
 443 0008 0D91     		str	r1, [sp, #52]
 444 000a 0E92     		str	r2, [sp, #56]
 445 000c 0F93     		str	r3, [sp, #60]
 446 000e 31AB     		add	r3, sp, #196
 447 0010 1A78     		ldrb	r2, [r3]
 162:Src/simcomAT.c **** 	uint8_t _cmd[40]; 
 448              		.loc 1 162 2 is_stmt 1 view .LVU72
 163:Src/simcomAT.c **** 	sprintf((char*)_cmd, "AT+CGDCONT=%d,\"%s\",\"APN\"\r\n", identifier, pdp_type); 
 449              		.loc 1 163 2 view .LVU73
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 12


 450 0012 329B     		ldr	r3, [sp, #200]
 451 0014 0949     		ldr	r1, .L24
 452 0016 6846     		mov	r0, sp
 453 0018 FFF7FEFF 		bl	sprintf
 454              	.LVL37:
 164:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, _cmd, strlen((char*)_cmd), 100); 
 455              		.loc 1 164 2 view .LVU74
 456              		.loc 1 164 34 is_stmt 0 view .LVU75
 457 001c 6846     		mov	r0, sp
 458 001e FFF7FEFF 		bl	strlen
 459              	.LVL38:
 460              		.loc 1 164 2 view .LVU76
 461 0022 82B2     		uxth	r2, r0
 462 0024 6423     		movs	r3, #100
 463 0026 6946     		mov	r1, sp
 464 0028 0CA8     		add	r0, sp, #48
 465 002a FFF7FEFF 		bl	HAL_UART_Transmit
 466              	.LVL39:
 165:Src/simcomAT.c **** 
 166:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 467              		.loc 1 166 2 is_stmt 1 view .LVU77
 468 002e 6420     		movs	r0, #100
 469 0030 FFF7FEFF 		bl	HAL_Delay
 470              	.LVL40:
 167:Src/simcomAT.c **** }
 471              		.loc 1 167 1 is_stmt 0 view .LVU78
 472 0034 0BB0     		add	sp, sp, #44
 473              		@ sp needed
 474 0036 08BC     		pop	{r3}
 475 0038 04B0     		add	sp, sp, #16
 476 003a 1847     		bx	r3
 477              	.L25:
 478              		.align	2
 479              	.L24:
 480 003c 00000000 		.word	.LC10
 481              		.cfi_endproc
 482              	.LFE318:
 484              		.section	.rodata.SimA7670C_PDP_Context_Set.str1.4,"aMS",%progbits,1
 485              		.align	2
 486              	.LC12:
 487 0000 41542B43 		.ascii	"AT+CGACT=%d,%d\015\012\000"
 487      47414354 
 487      3D25642C 
 487      25640D0A 
 487      00
 488              		.section	.text.SimA7670C_PDP_Context_Set,"ax",%progbits
 489              		.align	1
 490              		.global	SimA7670C_PDP_Context_Set
 491              		.syntax unified
 492              		.code	16
 493              		.thumb_func
 495              	SimA7670C_PDP_Context_Set:
 496              	.LVL41:
 497              	.LFB319:
 168:Src/simcomAT.c **** 
 169:Src/simcomAT.c **** void SimA7670C_PDP_Context_Set(UART_HandleTypeDef huart, uint8_t identifier, PDPConextFunc_TypeDef 
 170:Src/simcomAT.c **** {
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 13


 498              		.loc 1 170 1 is_stmt 1 view -0
 499              		.cfi_startproc
 500              		@ args = 156, pretend = 16, frame = 24
 501              		@ frame_needed = 0, uses_anonymous_args = 0
 502              		.loc 1 170 1 is_stmt 0 view .LVU80
 503 0000 84B0     		sub	sp, sp, #16
 504              	.LCFI12:
 505              		.cfi_def_cfa_offset 16
 506 0002 00B5     		push	{lr}
 507              	.LCFI13:
 508              		.cfi_def_cfa_offset 20
 509              		.cfi_offset 14, -20
 510 0004 87B0     		sub	sp, sp, #28
 511              	.LCFI14:
 512              		.cfi_def_cfa_offset 48
 513 0006 0890     		str	r0, [sp, #32]
 514 0008 0991     		str	r1, [sp, #36]
 515 000a 0A92     		str	r2, [sp, #40]
 516 000c 0B93     		str	r3, [sp, #44]
 517 000e 2DAB     		add	r3, sp, #180
 518 0010 1B78     		ldrb	r3, [r3]
 519 0012 2EAA     		add	r2, sp, #184
 520 0014 1278     		ldrb	r2, [r2]
 171:Src/simcomAT.c **** 	uint8_t _cmd[20]; 
 521              		.loc 1 171 2 is_stmt 1 view .LVU81
 172:Src/simcomAT.c **** 	sprintf((char*)_cmd, "AT+CGACT=%d,%d\r\n", status, identifier); 
 522              		.loc 1 172 2 view .LVU82
 523 0016 0A49     		ldr	r1, .L27
 524 0018 01A8     		add	r0, sp, #4
 525 001a FFF7FEFF 		bl	sprintf
 526              	.LVL42:
 173:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, _cmd, strlen((char*)_cmd), 100); 
 527              		.loc 1 173 2 view .LVU83
 528              		.loc 1 173 34 is_stmt 0 view .LVU84
 529 001e 01A8     		add	r0, sp, #4
 530 0020 FFF7FEFF 		bl	strlen
 531              	.LVL43:
 532              		.loc 1 173 2 view .LVU85
 533 0024 82B2     		uxth	r2, r0
 534 0026 6423     		movs	r3, #100
 535 0028 01A9     		add	r1, sp, #4
 536 002a 08A8     		add	r0, sp, #32
 537 002c FFF7FEFF 		bl	HAL_UART_Transmit
 538              	.LVL44:
 174:Src/simcomAT.c **** 
 175:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 539              		.loc 1 175 2 is_stmt 1 view .LVU86
 540 0030 6420     		movs	r0, #100
 541 0032 FFF7FEFF 		bl	HAL_Delay
 542              	.LVL45:
 176:Src/simcomAT.c **** }
 543              		.loc 1 176 1 is_stmt 0 view .LVU87
 544 0036 07B0     		add	sp, sp, #28
 545              		@ sp needed
 546 0038 08BC     		pop	{r3}
 547 003a 04B0     		add	sp, sp, #16
 548 003c 1847     		bx	r3
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 14


 549              	.L28:
 550 003e C046     		.align	2
 551              	.L27:
 552 0040 00000000 		.word	.LC12
 553              		.cfi_endproc
 554              	.LFE319:
 556              		.section	.rodata.SimA7670C_MQTT_StartService.str1.4,"aMS",%progbits,1
 557              		.align	2
 558              	.LC14:
 559 0000 41542B43 		.ascii	"AT+CMQTTSTART\015\012\000"
 559      4D515454 
 559      53544152 
 559      540D0A00 
 560              		.section	.text.SimA7670C_MQTT_StartService,"ax",%progbits
 561              		.align	1
 562              		.global	SimA7670C_MQTT_StartService
 563              		.syntax unified
 564              		.code	16
 565              		.thumb_func
 567              	SimA7670C_MQTT_StartService:
 568              	.LFB320:
 177:Src/simcomAT.c **** 
 178:Src/simcomAT.c **** void SimA7670C_MQTT_StartService(UART_HandleTypeDef huart)
 179:Src/simcomAT.c **** {
 569              		.loc 1 179 1 is_stmt 1 view -0
 570              		.cfi_startproc
 571              		@ args = 148, pretend = 16, frame = 0
 572              		@ frame_needed = 0, uses_anonymous_args = 0
 573 0000 84B0     		sub	sp, sp, #16
 574              	.LCFI15:
 575              		.cfi_def_cfa_offset 16
 576 0002 10B5     		push	{r4, lr}
 577              	.LCFI16:
 578              		.cfi_def_cfa_offset 24
 579              		.cfi_offset 4, -24
 580              		.cfi_offset 14, -20
 581 0004 0290     		str	r0, [sp, #8]
 582 0006 0391     		str	r1, [sp, #12]
 583 0008 0492     		str	r2, [sp, #16]
 584 000a 0593     		str	r3, [sp, #20]
 180:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, (uint8_t*)"AT+CMQTTSTART\r\n", strlen("AT+CMQTTSTART\r\n"), 100); 
 585              		.loc 1 180 2 view .LVU89
 586 000c 6423     		movs	r3, #100
 587 000e 0F22     		movs	r2, #15
 588 0010 0549     		ldr	r1, .L30
 589 0012 02A8     		add	r0, sp, #8
 590 0014 FFF7FEFF 		bl	HAL_UART_Transmit
 591              	.LVL46:
 181:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 592              		.loc 1 181 2 view .LVU90
 593 0018 6420     		movs	r0, #100
 594 001a FFF7FEFF 		bl	HAL_Delay
 595              	.LVL47:
 182:Src/simcomAT.c **** }
 596              		.loc 1 182 1 is_stmt 0 view .LVU91
 597              		@ sp needed
 598 001e 10BC     		pop	{r4}
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 15


 599 0020 08BC     		pop	{r3}
 600 0022 04B0     		add	sp, sp, #16
 601 0024 1847     		bx	r3
 602              	.L31:
 603 0026 C046     		.align	2
 604              	.L30:
 605 0028 00000000 		.word	.LC14
 606              		.cfi_endproc
 607              	.LFE320:
 609              		.section	.rodata.SimA7670C_MQTT_StopService.str1.4,"aMS",%progbits,1
 610              		.align	2
 611              	.LC16:
 612 0000 41542B43 		.ascii	"AT+CMQTTSTOP\015\012\000"
 612      4D515454 
 612      53544F50 
 612      0D0A00
 613              		.section	.text.SimA7670C_MQTT_StopService,"ax",%progbits
 614              		.align	1
 615              		.global	SimA7670C_MQTT_StopService
 616              		.syntax unified
 617              		.code	16
 618              		.thumb_func
 620              	SimA7670C_MQTT_StopService:
 621              	.LFB321:
 183:Src/simcomAT.c **** 
 184:Src/simcomAT.c **** void SimA7670C_MQTT_StopService(UART_HandleTypeDef huart)
 185:Src/simcomAT.c **** {
 622              		.loc 1 185 1 is_stmt 1 view -0
 623              		.cfi_startproc
 624              		@ args = 148, pretend = 16, frame = 0
 625              		@ frame_needed = 0, uses_anonymous_args = 0
 626 0000 84B0     		sub	sp, sp, #16
 627              	.LCFI17:
 628              		.cfi_def_cfa_offset 16
 629 0002 10B5     		push	{r4, lr}
 630              	.LCFI18:
 631              		.cfi_def_cfa_offset 24
 632              		.cfi_offset 4, -24
 633              		.cfi_offset 14, -20
 634 0004 0290     		str	r0, [sp, #8]
 635 0006 0391     		str	r1, [sp, #12]
 636 0008 0492     		str	r2, [sp, #16]
 637 000a 0593     		str	r3, [sp, #20]
 186:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, (uint8_t*)"AT+CMQTTSTOP\r\n", strlen("AT+CMQTTSTOP\r\n"), 100); 
 638              		.loc 1 186 2 view .LVU93
 639 000c 6423     		movs	r3, #100
 640 000e 0E22     		movs	r2, #14
 641 0010 0549     		ldr	r1, .L33
 642 0012 02A8     		add	r0, sp, #8
 643 0014 FFF7FEFF 		bl	HAL_UART_Transmit
 644              	.LVL48:
 187:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 645              		.loc 1 187 2 view .LVU94
 646 0018 6420     		movs	r0, #100
 647 001a FFF7FEFF 		bl	HAL_Delay
 648              	.LVL49:
 188:Src/simcomAT.c **** }
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 16


 649              		.loc 1 188 1 is_stmt 0 view .LVU95
 650              		@ sp needed
 651 001e 10BC     		pop	{r4}
 652 0020 08BC     		pop	{r3}
 653 0022 04B0     		add	sp, sp, #16
 654 0024 1847     		bx	r3
 655              	.L34:
 656 0026 C046     		.align	2
 657              	.L33:
 658 0028 00000000 		.word	.LC16
 659              		.cfi_endproc
 660              	.LFE321:
 662              		.section	.rodata.SimA7670C_MQTT_Client_Config.str1.4,"aMS",%progbits,1
 663              		.align	2
 664              	.LC18:
 665 0000 41542B43 		.ascii	"AT+CMQTTACCQ=0,\"%s\",0\015\012\000"
 665      4D515454 
 665      41434351 
 665      3D302C22 
 665      2573222C 
 666              		.section	.text.SimA7670C_MQTT_Client_Config,"ax",%progbits
 667              		.align	1
 668              		.global	SimA7670C_MQTT_Client_Config
 669              		.syntax unified
 670              		.code	16
 671              		.thumb_func
 673              	SimA7670C_MQTT_Client_Config:
 674              	.LVL50:
 675              	.LFB322:
 189:Src/simcomAT.c **** 
 190:Src/simcomAT.c **** void SimA7670C_MQTT_Client_Config(UART_HandleTypeDef huart, uint8_t *client_id)
 191:Src/simcomAT.c **** {
 676              		.loc 1 191 1 is_stmt 1 view -0
 677              		.cfi_startproc
 678              		@ args = 152, pretend = 16, frame = 56
 679              		@ frame_needed = 0, uses_anonymous_args = 0
 680              		.loc 1 191 1 is_stmt 0 view .LVU97
 681 0000 84B0     		sub	sp, sp, #16
 682              	.LCFI19:
 683              		.cfi_def_cfa_offset 16
 684 0002 00B5     		push	{lr}
 685              	.LCFI20:
 686              		.cfi_def_cfa_offset 20
 687              		.cfi_offset 14, -20
 688 0004 8FB0     		sub	sp, sp, #60
 689              	.LCFI21:
 690              		.cfi_def_cfa_offset 80
 691 0006 1090     		str	r0, [sp, #64]
 692 0008 1191     		str	r1, [sp, #68]
 693 000a 1292     		str	r2, [sp, #72]
 694 000c 1393     		str	r3, [sp, #76]
 192:Src/simcomAT.c **** 	uint8_t _cmd[50]; 
 695              		.loc 1 192 2 is_stmt 1 view .LVU98
 193:Src/simcomAT.c **** 	sprintf((char*)_cmd, "AT+CMQTTACCQ=0,\"%s\",0\r\n", client_id); 
 696              		.loc 1 193 2 view .LVU99
 697 000e 359A     		ldr	r2, [sp, #212]
 698 0010 0949     		ldr	r1, .L36
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 17


 699 0012 01A8     		add	r0, sp, #4
 700 0014 FFF7FEFF 		bl	sprintf
 701              	.LVL51:
 194:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, _cmd, strlen((char*)_cmd), 100); 
 702              		.loc 1 194 2 view .LVU100
 703              		.loc 1 194 34 is_stmt 0 view .LVU101
 704 0018 01A8     		add	r0, sp, #4
 705 001a FFF7FEFF 		bl	strlen
 706              	.LVL52:
 707              		.loc 1 194 2 view .LVU102
 708 001e 82B2     		uxth	r2, r0
 709 0020 6423     		movs	r3, #100
 710 0022 01A9     		add	r1, sp, #4
 711 0024 10A8     		add	r0, sp, #64
 712 0026 FFF7FEFF 		bl	HAL_UART_Transmit
 713              	.LVL53:
 195:Src/simcomAT.c **** 
 196:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 714              		.loc 1 196 2 is_stmt 1 view .LVU103
 715 002a 6420     		movs	r0, #100
 716 002c FFF7FEFF 		bl	HAL_Delay
 717              	.LVL54:
 197:Src/simcomAT.c **** }
 718              		.loc 1 197 1 is_stmt 0 view .LVU104
 719 0030 0FB0     		add	sp, sp, #60
 720              		@ sp needed
 721 0032 08BC     		pop	{r3}
 722 0034 04B0     		add	sp, sp, #16
 723 0036 1847     		bx	r3
 724              	.L37:
 725              		.align	2
 726              	.L36:
 727 0038 00000000 		.word	.LC18
 728              		.cfi_endproc
 729              	.LFE322:
 731              		.section	.rodata.SimA7670C_MQTT_BrokerConnect.str1.4,"aMS",%progbits,1
 732              		.align	2
 733              	.LC20:
 734 0000 41542B43 		.ascii	"AT+CMQTTCONNECT=0,\"tcp://%s:%d\",60,0,\"%s\",\"%s\""
 734      4D515454 
 734      434F4E4E 
 734      4543543D 
 734      302C2274 
 735 002e 0D0A00   		.ascii	"\015\012\000"
 736              		.section	.text.SimA7670C_MQTT_BrokerConnect,"ax",%progbits
 737              		.align	1
 738              		.global	SimA7670C_MQTT_BrokerConnect
 739              		.syntax unified
 740              		.code	16
 741              		.thumb_func
 743              	SimA7670C_MQTT_BrokerConnect:
 744              	.LVL55:
 745              	.LFB323:
 198:Src/simcomAT.c **** 
 199:Src/simcomAT.c **** void SimA7670C_MQTT_BrokerConnect(UART_HandleTypeDef huart, uint8_t *host, uint16_t port, uint8_t *
 200:Src/simcomAT.c **** {
 746              		.loc 1 200 1 is_stmt 1 view -0
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 18


 747              		.cfi_startproc
 748              		@ args = 164, pretend = 16, frame = 304
 749              		@ frame_needed = 0, uses_anonymous_args = 0
 750              		.loc 1 200 1 is_stmt 0 view .LVU106
 751 0000 84B0     		sub	sp, sp, #16
 752              	.LCFI22:
 753              		.cfi_def_cfa_offset 16
 754 0002 00B5     		push	{lr}
 755              	.LCFI23:
 756              		.cfi_def_cfa_offset 20
 757              		.cfi_offset 14, -20
 758 0004 CFB0     		sub	sp, sp, #316
 759              	.LCFI24:
 760              		.cfi_def_cfa_offset 336
 761 0006 5090     		str	r0, [sp, #320]
 762 0008 5191     		str	r1, [sp, #324]
 763 000a 5292     		str	r2, [sp, #328]
 764 000c 5393     		str	r3, [sp, #332]
 765 000e 76AB     		add	r3, sp, #472
 766 0010 1B88     		ldrh	r3, [r3]
 201:Src/simcomAT.c **** 	uint8_t messages[300]; 
 767              		.loc 1 201 2 is_stmt 1 view .LVU107
 202:Src/simcomAT.c **** 	sprintf((char*)messages, "AT+CMQTTCONNECT=0,\"tcp://%s:%d\",60,0,\"%s\",\"%s\"\r\n", host, port, u
 768              		.loc 1 202 2 view .LVU108
 769 0012 789A     		ldr	r2, [sp, #480]
 770 0014 0192     		str	r2, [sp, #4]
 771 0016 779A     		ldr	r2, [sp, #476]
 772 0018 0092     		str	r2, [sp]
 773 001a 759A     		ldr	r2, [sp, #468]
 774 001c 0949     		ldr	r1, .L39
 775 001e 03A8     		add	r0, sp, #12
 776 0020 FFF7FEFF 		bl	sprintf
 777              	.LVL56:
 203:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, messages, strlen((char*)messages), 100); 
 778              		.loc 1 203 2 view .LVU109
 779              		.loc 1 203 38 is_stmt 0 view .LVU110
 780 0024 03A8     		add	r0, sp, #12
 781 0026 FFF7FEFF 		bl	strlen
 782              	.LVL57:
 783              		.loc 1 203 2 view .LVU111
 784 002a 82B2     		uxth	r2, r0
 785 002c 6423     		movs	r3, #100
 786 002e 03A9     		add	r1, sp, #12
 787 0030 50A8     		add	r0, sp, #320
 788 0032 FFF7FEFF 		bl	HAL_UART_Transmit
 789              	.LVL58:
 204:Src/simcomAT.c **** 
 205:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 790              		.loc 1 205 2 is_stmt 1 view .LVU112
 791 0036 6420     		movs	r0, #100
 792 0038 FFF7FEFF 		bl	HAL_Delay
 793              	.LVL59:
 206:Src/simcomAT.c **** }
 794              		.loc 1 206 1 is_stmt 0 view .LVU113
 795 003c 4FB0     		add	sp, sp, #316
 796              		@ sp needed
 797 003e 08BC     		pop	{r3}
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 19


 798 0040 04B0     		add	sp, sp, #16
 799 0042 1847     		bx	r3
 800              	.L40:
 801              		.align	2
 802              	.L39:
 803 0044 00000000 		.word	.LC20
 804              		.cfi_endproc
 805              	.LFE323:
 807              		.section	.rodata.SimA7670C_MQTT_BrokerDisconnect.str1.4,"aMS",%progbits,1
 808              		.align	2
 809              	.LC22:
 810 0000 41542B43 		.ascii	"AT+CMQTTDISC=0,120\015\012\000"
 810      4D515454 
 810      44495343 
 810      3D302C31 
 810      32300D0A 
 811 0015 000000   		.align	2
 812              	.LC24:
 813 0018 41542B43 		.ascii	"AT+CMQTTREL=0\015\012\000"
 813      4D515454 
 813      52454C3D 
 813      300D0A00 
 814              		.section	.text.SimA7670C_MQTT_BrokerDisconnect,"ax",%progbits
 815              		.align	1
 816              		.global	SimA7670C_MQTT_BrokerDisconnect
 817              		.syntax unified
 818              		.code	16
 819              		.thumb_func
 821              	SimA7670C_MQTT_BrokerDisconnect:
 822              	.LFB324:
 207:Src/simcomAT.c **** 
 208:Src/simcomAT.c **** void SimA7670C_MQTT_BrokerDisconnect(UART_HandleTypeDef huart)
 209:Src/simcomAT.c **** {
 823              		.loc 1 209 1 is_stmt 1 view -0
 824              		.cfi_startproc
 825              		@ args = 148, pretend = 16, frame = 0
 826              		@ frame_needed = 0, uses_anonymous_args = 0
 827 0000 84B0     		sub	sp, sp, #16
 828              	.LCFI25:
 829              		.cfi_def_cfa_offset 16
 830 0002 10B5     		push	{r4, lr}
 831              	.LCFI26:
 832              		.cfi_def_cfa_offset 24
 833              		.cfi_offset 4, -24
 834              		.cfi_offset 14, -20
 835 0004 0290     		str	r0, [sp, #8]
 836 0006 0391     		str	r1, [sp, #12]
 837 0008 0492     		str	r2, [sp, #16]
 838 000a 0593     		str	r3, [sp, #20]
 210:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, (uint8_t*)"AT+CMQTTDISC=0,120\r\n", strlen("AT+CMQTTDISC=0,120\r\n"), 10
 839              		.loc 1 210 2 view .LVU115
 840 000c 6423     		movs	r3, #100
 841 000e 1422     		movs	r2, #20
 842 0010 0949     		ldr	r1, .L42
 843 0012 02A8     		add	r0, sp, #8
 844 0014 FFF7FEFF 		bl	HAL_UART_Transmit
 845              	.LVL60:
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 20


 211:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 846              		.loc 1 211 2 view .LVU116
 847 0018 6420     		movs	r0, #100
 848 001a FFF7FEFF 		bl	HAL_Delay
 849              	.LVL61:
 212:Src/simcomAT.c **** 
 213:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, (uint8_t*)"AT+CMQTTREL=0\r\n", strlen("AT+CMQTTREL=0\r\n"), 100); 
 850              		.loc 1 213 2 view .LVU117
 851 001e 6423     		movs	r3, #100
 852 0020 0F22     		movs	r2, #15
 853 0022 0649     		ldr	r1, .L42+4
 854 0024 02A8     		add	r0, sp, #8
 855 0026 FFF7FEFF 		bl	HAL_UART_Transmit
 856              	.LVL62:
 214:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 857              		.loc 1 214 2 view .LVU118
 858 002a 6420     		movs	r0, #100
 859 002c FFF7FEFF 		bl	HAL_Delay
 860              	.LVL63:
 215:Src/simcomAT.c **** }
 861              		.loc 1 215 1 is_stmt 0 view .LVU119
 862              		@ sp needed
 863 0030 10BC     		pop	{r4}
 864 0032 08BC     		pop	{r3}
 865 0034 04B0     		add	sp, sp, #16
 866 0036 1847     		bx	r3
 867              	.L43:
 868              		.align	2
 869              	.L42:
 870 0038 00000000 		.word	.LC22
 871 003c 18000000 		.word	.LC24
 872              		.cfi_endproc
 873              	.LFE324:
 875              		.section	.rodata.SimA7670C_Mqtt_Subscribe.str1.4,"aMS",%progbits,1
 876              		.align	2
 877              	.LC26:
 878 0000 41542B43 		.ascii	"AT+CMQTTSUBTOPIC=0,%d,1\015\012\000"
 878      4D515454 
 878      53554254 
 878      4F504943 
 878      3D302C25 
 879 001a 0000     		.align	2
 880              	.LC28:
 881 001c 4F4B00   		.ascii	"OK\000"
 882 001f 00       		.align	2
 883              	.LC30:
 884 0020 41542B43 		.ascii	"AT+CMQTTSUB=0\015\012\000"
 884      4D515454 
 884      5355423D 
 884      300D0A00 
 885              		.align	2
 886              	.LC32:
 887 0030 2B434D51 		.ascii	"+CMQTTSUB:\000"
 887      54545355 
 887      423A00
 888              		.section	.text.SimA7670C_Mqtt_Subscribe,"ax",%progbits
 889              		.align	1
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 21


 890              		.global	SimA7670C_Mqtt_Subscribe
 891              		.syntax unified
 892              		.code	16
 893              		.thumb_func
 895              	SimA7670C_Mqtt_Subscribe:
 896              	.LVL64:
 897              	.LFB325:
 216:Src/simcomAT.c **** 
 217:Src/simcomAT.c **** void SimA7670C_Mqtt_Subscribe(UART_HandleTypeDef huart, uint8_t *recv_buf, uint8_t *topic)
 218:Src/simcomAT.c **** {
 898              		.loc 1 218 1 is_stmt 1 view -0
 899              		.cfi_startproc
 900              		@ args = 156, pretend = 16, frame = 200
 901              		@ frame_needed = 0, uses_anonymous_args = 0
 902              		.loc 1 218 1 is_stmt 0 view .LVU121
 903 0000 84B0     		sub	sp, sp, #16
 904              	.LCFI27:
 905              		.cfi_def_cfa_offset 16
 906 0002 70B5     		push	{r4, r5, r6, lr}
 907              	.LCFI28:
 908              		.cfi_def_cfa_offset 32
 909              		.cfi_offset 4, -32
 910              		.cfi_offset 5, -28
 911              		.cfi_offset 6, -24
 912              		.cfi_offset 14, -20
 913 0004 B2B0     		sub	sp, sp, #200
 914              	.LCFI29:
 915              		.cfi_def_cfa_offset 232
 916 0006 3690     		str	r0, [sp, #216]
 917 0008 3791     		str	r1, [sp, #220]
 918 000a 3892     		str	r2, [sp, #224]
 919 000c 3993     		str	r3, [sp, #228]
 920 000e 5B9E     		ldr	r6, [sp, #364]
 921 0010 5C9D     		ldr	r5, [sp, #368]
 219:Src/simcomAT.c **** 	uint8_t messages[200];
 922              		.loc 1 219 2 is_stmt 1 view .LVU122
 220:Src/simcomAT.c **** 	uint16_t timeout = 2000; 
 923              		.loc 1 220 2 view .LVU123
 924              	.LVL65:
 221:Src/simcomAT.c **** 
 222:Src/simcomAT.c **** 	sprintf((char*)messages, "AT+CMQTTSUBTOPIC=0,%d,1\r\n", strlen((char*)topic)); 
 925              		.loc 1 222 2 view .LVU124
 926 0012 2800     		movs	r0, r5
 927 0014 FFF7FEFF 		bl	strlen
 928              	.LVL66:
 929 0018 0200     		movs	r2, r0
 930 001a 3249     		ldr	r1, .L58
 931 001c 6846     		mov	r0, sp
 932 001e FFF7FEFF 		bl	sprintf
 933              	.LVL67:
 223:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, messages, strlen((char*)messages), 100); 
 934              		.loc 1 223 2 view .LVU125
 935              		.loc 1 223 38 is_stmt 0 view .LVU126
 936 0022 6846     		mov	r0, sp
 937 0024 FFF7FEFF 		bl	strlen
 938              	.LVL68:
 939              		.loc 1 223 2 view .LVU127
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 22


 940 0028 82B2     		uxth	r2, r0
 941 002a 6423     		movs	r3, #100
 942 002c 6946     		mov	r1, sp
 943 002e 36A8     		add	r0, sp, #216
 944 0030 FFF7FEFF 		bl	HAL_UART_Transmit
 945              	.LVL69:
 224:Src/simcomAT.c **** 	HAL_Delay(2); 
 946              		.loc 1 224 2 is_stmt 1 view .LVU128
 947 0034 0220     		movs	r0, #2
 948 0036 FFF7FEFF 		bl	HAL_Delay
 949              	.LVL70:
 220:Src/simcomAT.c **** 
 950              		.loc 1 220 11 is_stmt 0 view .LVU129
 951 003a FA24     		movs	r4, #250
 952 003c E400     		lsls	r4, r4, #3
 953              	.LVL71:
 954              	.L45:
 225:Src/simcomAT.c **** 	while(1)
 955              		.loc 1 225 2 is_stmt 1 view .LVU130
 226:Src/simcomAT.c ****     {
 227:Src/simcomAT.c ****         if(strstr((char*)recv_buf, ">")) 
 956              		.loc 1 227 9 view .LVU131
 957              		.loc 1 227 12 is_stmt 0 view .LVU132
 958 003e 3E21     		movs	r1, #62
 959 0040 3000     		movs	r0, r6
 960 0042 FFF7FEFF 		bl	strchr
 961              	.LVL72:
 962              		.loc 1 227 11 view .LVU133
 963 0046 0028     		cmp	r0, #0
 964 0048 09D1     		bne	.L56
 228:Src/simcomAT.c ****         {
 229:Src/simcomAT.c ****         	HAL_UART_Transmit(&huart, (uint8_t*)topic, strlen((char*)topic), 100); 
 230:Src/simcomAT.c ****         	break; 
 231:Src/simcomAT.c ****         }
 232:Src/simcomAT.c ****         
 233:Src/simcomAT.c ****         HAL_Delay(1); 
 965              		.loc 1 233 9 is_stmt 1 view .LVU134
 966 004a 0120     		movs	r0, #1
 967 004c FFF7FEFF 		bl	HAL_Delay
 968              	.LVL73:
 234:Src/simcomAT.c ****         timeout--; 
 969              		.loc 1 234 9 view .LVU135
 970              		.loc 1 234 16 is_stmt 0 view .LVU136
 971 0050 013C     		subs	r4, r4, #1
 972              	.LVL74:
 973              		.loc 1 234 16 view .LVU137
 974 0052 A4B2     		uxth	r4, r4
 975              	.LVL75:
 235:Src/simcomAT.c ****         if(timeout == 0) HAL_NVIC_SystemReset();
 976              		.loc 1 235 9 is_stmt 1 view .LVU138
 977              		.loc 1 235 11 is_stmt 0 view .LVU139
 978 0054 002C     		cmp	r4, #0
 979 0056 F2D1     		bne	.L45
 980              		.loc 1 235 26 is_stmt 1 discriminator 1 view .LVU140
 981 0058 FFF7FEFF 		bl	HAL_NVIC_SystemReset
 982              	.LVL76:
 983 005c EFE7     		b	.L45
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 23


 984              	.L56:
 229:Src/simcomAT.c ****         	break; 
 985              		.loc 1 229 10 view .LVU141
 229:Src/simcomAT.c ****         	break; 
 986              		.loc 1 229 53 is_stmt 0 view .LVU142
 987 005e 2800     		movs	r0, r5
 988 0060 FFF7FEFF 		bl	strlen
 989              	.LVL77:
 229:Src/simcomAT.c ****         	break; 
 990              		.loc 1 229 10 view .LVU143
 991 0064 82B2     		uxth	r2, r0
 992 0066 6423     		movs	r3, #100
 993 0068 2900     		movs	r1, r5
 994 006a 36A8     		add	r0, sp, #216
 995 006c FFF7FEFF 		bl	HAL_UART_Transmit
 996              	.LVL78:
 230:Src/simcomAT.c ****         }
 997              		.loc 1 230 10 is_stmt 1 view .LVU144
 236:Src/simcomAT.c ****     }
 237:Src/simcomAT.c **** 
 238:Src/simcomAT.c **** 	// Remove and use continue
 239:Src/simcomAT.c **** 	if(!SimA7670C_Response(recv_buf, (uint8_t*)"OK", 10000)) HAL_NVIC_SystemReset(); 
 998              		.loc 1 239 2 view .LVU145
 999              		.loc 1 239 6 is_stmt 0 view .LVU146
 1000 0070 1D4A     		ldr	r2, .L58+4
 1001 0072 1E49     		ldr	r1, .L58+8
 1002 0074 3000     		movs	r0, r6
 1003 0076 FFF7FEFF 		bl	SimA7670C_Response
 1004              	.LVL79:
 1005              		.loc 1 239 4 view .LVU147
 1006 007a 0028     		cmp	r0, #0
 1007 007c 01D0     		beq	.L47
 1008              	.LBB4:
 240:Src/simcomAT.c ****     else for(uint16_t pos = 0; pos < 200; pos++) messages[pos] = '\0'; 	
 1009              		.loc 1 240 23 view .LVU148
 1010 007e 0023     		movs	r3, #0
 1011 0080 07E0     		b	.L48
 1012              	.L47:
 1013              	.LBE4:
 239:Src/simcomAT.c ****     else for(uint16_t pos = 0; pos < 200; pos++) messages[pos] = '\0'; 	
 1014              		.loc 1 239 59 is_stmt 1 discriminator 1 view .LVU149
 1015 0082 FFF7FEFF 		bl	HAL_NVIC_SystemReset
 1016              	.LVL80:
 1017 0086 06E0     		b	.L50
 1018              	.LVL81:
 1019              	.L51:
 1020              	.LBB5:
 1021              		.loc 1 240 50 discriminator 3 view .LVU150
 1022              		.loc 1 240 64 is_stmt 0 discriminator 3 view .LVU151
 1023 0088 0022     		movs	r2, #0
 1024 008a 6946     		mov	r1, sp
 1025 008c CA54     		strb	r2, [r1, r3]
 1026              		.loc 1 240 43 is_stmt 1 discriminator 3 view .LVU152
 1027              		.loc 1 240 46 is_stmt 0 discriminator 3 view .LVU153
 1028 008e 0133     		adds	r3, r3, #1
 1029              	.LVL82:
 1030              		.loc 1 240 46 discriminator 3 view .LVU154
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 24


 1031 0090 9BB2     		uxth	r3, r3
 1032              	.LVL83:
 1033              	.L48:
 1034              		.loc 1 240 32 is_stmt 1 discriminator 1 view .LVU155
 1035              		.loc 1 240 10 is_stmt 0 discriminator 1 view .LVU156
 1036 0092 C72B     		cmp	r3, #199
 1037 0094 F8D9     		bls	.L51
 1038              	.LVL84:
 1039              	.L50:
 1040              		.loc 1 240 10 discriminator 1 view .LVU157
 1041              	.LBE5:
 241:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 1042              		.loc 1 241 2 is_stmt 1 view .LVU158
 1043 0096 6420     		movs	r0, #100
 1044 0098 FFF7FEFF 		bl	HAL_Delay
 1045              	.LVL85:
 242:Src/simcomAT.c **** 
 243:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, (uint8_t*)"AT+CMQTTSUB=0\r\n", strlen("AT+CMQTTSUB=0\r\n"), 100); 
 1046              		.loc 1 243 2 view .LVU159
 1047 009c 6423     		movs	r3, #100
 1048 009e 0F22     		movs	r2, #15
 1049 00a0 1349     		ldr	r1, .L58+12
 1050 00a2 36A8     		add	r0, sp, #216
 1051 00a4 FFF7FEFF 		bl	HAL_UART_Transmit
 1052              	.LVL86:
 244:Src/simcomAT.c **** 	HAL_Delay(2); 
 1053              		.loc 1 244 2 view .LVU160
 1054 00a8 0220     		movs	r0, #2
 1055 00aa FFF7FEFF 		bl	HAL_Delay
 1056              	.LVL87:
 245:Src/simcomAT.c **** 
 246:Src/simcomAT.c **** 	// Remove and use continue
 247:Src/simcomAT.c **** 	if(!SimA7670C_Response(recv_buf, (uint8_t*)"+CMQTTSUB:", 10000)) HAL_NVIC_SystemReset(); 
 1057              		.loc 1 247 2 view .LVU161
 1058              		.loc 1 247 6 is_stmt 0 view .LVU162
 1059 00ae 0E4A     		ldr	r2, .L58+4
 1060 00b0 1049     		ldr	r1, .L58+16
 1061 00b2 3000     		movs	r0, r6
 1062 00b4 FFF7FEFF 		bl	SimA7670C_Response
 1063              	.LVL88:
 1064              		.loc 1 247 4 view .LVU163
 1065 00b8 0028     		cmp	r0, #0
 1066 00ba 01D0     		beq	.L57
 1067              	.LBB6:
 248:Src/simcomAT.c ****     else for(uint16_t pos = 0; pos < 200; pos++) messages[pos] = '\0'; 
 1068              		.loc 1 248 23 view .LVU164
 1069 00bc 0023     		movs	r3, #0
 1070 00be 07E0     		b	.L52
 1071              	.L57:
 1072              	.LBE6:
 247:Src/simcomAT.c ****     else for(uint16_t pos = 0; pos < 200; pos++) messages[pos] = '\0'; 
 1073              		.loc 1 247 67 is_stmt 1 discriminator 1 view .LVU165
 1074 00c0 FFF7FEFF 		bl	HAL_NVIC_SystemReset
 1075              	.LVL89:
 1076 00c4 06E0     		b	.L53
 1077              	.LVL90:
 1078              	.L54:
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 25


 1079              	.LBB7:
 1080              		.loc 1 248 50 discriminator 3 view .LVU166
 1081              		.loc 1 248 64 is_stmt 0 discriminator 3 view .LVU167
 1082 00c6 0022     		movs	r2, #0
 1083 00c8 6946     		mov	r1, sp
 1084 00ca CA54     		strb	r2, [r1, r3]
 1085              		.loc 1 248 43 is_stmt 1 discriminator 3 view .LVU168
 1086              		.loc 1 248 46 is_stmt 0 discriminator 3 view .LVU169
 1087 00cc 0133     		adds	r3, r3, #1
 1088              	.LVL91:
 1089              		.loc 1 248 46 discriminator 3 view .LVU170
 1090 00ce 9BB2     		uxth	r3, r3
 1091              	.LVL92:
 1092              	.L52:
 1093              		.loc 1 248 32 is_stmt 1 discriminator 1 view .LVU171
 1094              		.loc 1 248 10 is_stmt 0 discriminator 1 view .LVU172
 1095 00d0 C72B     		cmp	r3, #199
 1096 00d2 F8D9     		bls	.L54
 1097              	.LVL93:
 1098              	.L53:
 1099              		.loc 1 248 10 discriminator 1 view .LVU173
 1100              	.LBE7:
 249:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 1101              		.loc 1 249 2 is_stmt 1 view .LVU174
 1102 00d4 6420     		movs	r0, #100
 1103 00d6 FFF7FEFF 		bl	HAL_Delay
 1104              	.LVL94:
 250:Src/simcomAT.c **** }
 1105              		.loc 1 250 1 is_stmt 0 view .LVU175
 1106 00da 32B0     		add	sp, sp, #200
 1107              		@ sp needed
 1108              	.LVL95:
 1109              		.loc 1 250 1 view .LVU176
 1110 00dc 70BC     		pop	{r4, r5, r6}
 1111 00de 08BC     		pop	{r3}
 1112 00e0 04B0     		add	sp, sp, #16
 1113 00e2 1847     		bx	r3
 1114              	.L59:
 1115              		.align	2
 1116              	.L58:
 1117 00e4 00000000 		.word	.LC26
 1118 00e8 10270000 		.word	10000
 1119 00ec 1C000000 		.word	.LC28
 1120 00f0 20000000 		.word	.LC30
 1121 00f4 30000000 		.word	.LC32
 1122              		.cfi_endproc
 1123              	.LFE325:
 1125              		.section	.rodata.SimA7670C_Mqtt_Publish.str1.4,"aMS",%progbits,1
 1126              		.align	2
 1127              	.LC34:
 1128 0000 41542B43 		.ascii	"AT+CMQTTTOPIC=0,%d\015\012\000"
 1128      4D515454 
 1128      544F5049 
 1128      433D302C 
 1128      25640D0A 
 1129 0015 000000   		.align	2
 1130              	.LC37:
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 26


 1131 0018 41542B43 		.ascii	"AT+CMQTTPAYLOAD=0,%d\015\012\000"
 1131      4D515454 
 1131      5041594C 
 1131      4F41443D 
 1131      302C2564 
 1132 002f 00       		.align	2
 1133              	.LC39:
 1134 0030 41542B43 		.ascii	"AT+CMQTTPUB=0,1,60\015\012\000"
 1134      4D515454 
 1134      5055423D 
 1134      302C312C 
 1134      36300D0A 
 1135 0045 000000   		.align	2
 1136              	.LC41:
 1137 0048 2B434D51 		.ascii	"+CMQTTPUB:\000"
 1137      54545055 
 1137      423A00
 1138              		.section	.text.SimA7670C_Mqtt_Publish,"ax",%progbits
 1139              		.align	1
 1140              		.global	SimA7670C_Mqtt_Publish
 1141              		.syntax unified
 1142              		.code	16
 1143              		.thumb_func
 1145              	SimA7670C_Mqtt_Publish:
 1146              	.LVL96:
 1147              	.LFB326:
 251:Src/simcomAT.c **** 
 252:Src/simcomAT.c **** void SimA7670C_Mqtt_Publish(UART_HandleTypeDef huart, uint8_t *recv_buf, uint8_t *topic, uint8_t *m
 253:Src/simcomAT.c **** {
 1148              		.loc 1 253 1 is_stmt 1 view -0
 1149              		.cfi_startproc
 1150              		@ args = 160, pretend = 16, frame = 800
 1151              		@ frame_needed = 0, uses_anonymous_args = 0
 1152              		.loc 1 253 1 is_stmt 0 view .LVU178
 1153 0000 84B0     		sub	sp, sp, #16
 1154              	.LCFI30:
 1155              		.cfi_def_cfa_offset 16
 1156 0002 F0B5     		push	{r4, r5, r6, r7, lr}
 1157              	.LCFI31:
 1158              		.cfi_def_cfa_offset 36
 1159              		.cfi_offset 4, -36
 1160              		.cfi_offset 5, -32
 1161              		.cfi_offset 6, -28
 1162              		.cfi_offset 7, -24
 1163              		.cfi_offset 14, -20
 1164 0004 5F4C     		ldr	r4, .L82
 1165 0006 A544     		add	sp, sp, r4
 1166              	.LCFI32:
 1167              		.cfi_def_cfa_offset 840
 1168 0008 CE90     		str	r0, [sp, #824]
 1169 000a CF91     		str	r1, [sp, #828]
 1170 000c D092     		str	r2, [sp, #832]
 1171 000e D193     		str	r3, [sp, #836]
 1172 0010 F39D     		ldr	r5, [sp, #972]
 1173 0012 F49F     		ldr	r7, [sp, #976]
 1174 0014 F59C     		ldr	r4, [sp, #980]
 254:Src/simcomAT.c **** 	uint8_t messages[800];
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 27


 1175              		.loc 1 254 2 is_stmt 1 view .LVU179
 255:Src/simcomAT.c **** 	uint16_t timeout = 2000; 
 1176              		.loc 1 255 2 view .LVU180
 1177              	.LVL97:
 256:Src/simcomAT.c **** 
 257:Src/simcomAT.c **** 	/*sprintf((char*)messages, "AT+CMQTTSUB=0,%d,1\r\n", strlen((char*)topic)); 
 258:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, messages, strlen((char*)messages), 100); 
 259:Src/simcomAT.c **** 	HAL_Delay(2); 
 260:Src/simcomAT.c **** 	while(1)
 261:Src/simcomAT.c ****     {
 262:Src/simcomAT.c ****         if(strstr((char*)recv_buf, ">")) 
 263:Src/simcomAT.c ****         {
 264:Src/simcomAT.c ****         	HAL_UART_Transmit(&huart, topic, strlen((char*)topic), 100); 
 265:Src/simcomAT.c ****         	break; 
 266:Src/simcomAT.c ****         }
 267:Src/simcomAT.c ****         
 268:Src/simcomAT.c ****         HAL_Delay(1); 
 269:Src/simcomAT.c ****         timeout--; 
 270:Src/simcomAT.c ****         if(timeout == 0) HAL_NVIC_SystemReset();
 271:Src/simcomAT.c ****     }
 272:Src/simcomAT.c **** 
 273:Src/simcomAT.c **** 	// Remove and use continue
 274:Src/simcomAT.c **** 	if(!SimA7670C_Response(recv_buf, (uint8_t*)"+CMQTTSUB", 10000)) HAL_NVIC_SystemReset(); 
 275:Src/simcomAT.c ****     else for(uint16_t pos = 0; pos < 800; pos++) messages[pos] = '\0'; 
 276:Src/simcomAT.c **** 	timeout = 2000; 
 277:Src/simcomAT.c **** 	HAL_Delay(_ms_); */ 
 278:Src/simcomAT.c **** 
 279:Src/simcomAT.c **** 	sprintf((char*)messages, "AT+CMQTTTOPIC=0,%d\r\n", strlen((char*)topic)); 
 1178              		.loc 1 279 2 view .LVU181
 1179 0016 3800     		movs	r0, r7
 1180 0018 FFF7FEFF 		bl	strlen
 1181              	.LVL98:
 1182 001c 0200     		movs	r2, r0
 1183 001e 5A49     		ldr	r1, .L82+4
 1184 0020 6846     		mov	r0, sp
 1185 0022 FFF7FEFF 		bl	sprintf
 1186              	.LVL99:
 280:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, messages, strlen((char*)messages), 100); 
 1187              		.loc 1 280 2 view .LVU182
 1188              		.loc 1 280 38 is_stmt 0 view .LVU183
 1189 0026 6846     		mov	r0, sp
 1190 0028 FFF7FEFF 		bl	strlen
 1191              	.LVL100:
 1192              		.loc 1 280 2 view .LVU184
 1193 002c 82B2     		uxth	r2, r0
 1194 002e 6423     		movs	r3, #100
 1195 0030 6946     		mov	r1, sp
 1196 0032 CEA8     		add	r0, sp, #824
 1197 0034 FFF7FEFF 		bl	HAL_UART_Transmit
 1198              	.LVL101:
 281:Src/simcomAT.c **** 	HAL_Delay(2); 
 1199              		.loc 1 281 2 is_stmt 1 view .LVU185
 1200 0038 0220     		movs	r0, #2
 1201 003a FFF7FEFF 		bl	HAL_Delay
 1202              	.LVL102:
 255:Src/simcomAT.c **** 
 1203              		.loc 1 255 11 is_stmt 0 view .LVU186
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 28


 1204 003e FA26     		movs	r6, #250
 1205 0040 F600     		lsls	r6, r6, #3
 1206              	.LVL103:
 1207              	.L61:
 282:Src/simcomAT.c **** 	while(1)
 1208              		.loc 1 282 2 is_stmt 1 view .LVU187
 283:Src/simcomAT.c ****     {
 284:Src/simcomAT.c ****         if(strstr((char*)recv_buf, ">")) 
 1209              		.loc 1 284 9 view .LVU188
 1210              		.loc 1 284 12 is_stmt 0 view .LVU189
 1211 0042 3E21     		movs	r1, #62
 1212 0044 2800     		movs	r0, r5
 1213 0046 FFF7FEFF 		bl	strchr
 1214              	.LVL104:
 1215              		.loc 1 284 11 view .LVU190
 1216 004a 0028     		cmp	r0, #0
 1217 004c 09D1     		bne	.L79
 285:Src/simcomAT.c ****         {
 286:Src/simcomAT.c ****         	HAL_UART_Transmit(&huart, topic, strlen((char*)topic), 100); 
 287:Src/simcomAT.c ****         	break; 
 288:Src/simcomAT.c ****         }
 289:Src/simcomAT.c ****         
 290:Src/simcomAT.c ****         HAL_Delay(1); 
 1218              		.loc 1 290 9 is_stmt 1 view .LVU191
 1219 004e 0120     		movs	r0, #1
 1220 0050 FFF7FEFF 		bl	HAL_Delay
 1221              	.LVL105:
 291:Src/simcomAT.c ****         timeout--; 
 1222              		.loc 1 291 9 view .LVU192
 1223              		.loc 1 291 16 is_stmt 0 view .LVU193
 1224 0054 013E     		subs	r6, r6, #1
 1225              	.LVL106:
 1226              		.loc 1 291 16 view .LVU194
 1227 0056 B6B2     		uxth	r6, r6
 1228              	.LVL107:
 292:Src/simcomAT.c ****         if(timeout == 0) HAL_NVIC_SystemReset();
 1229              		.loc 1 292 9 is_stmt 1 view .LVU195
 1230              		.loc 1 292 11 is_stmt 0 view .LVU196
 1231 0058 002E     		cmp	r6, #0
 1232 005a F2D1     		bne	.L61
 1233              		.loc 1 292 26 is_stmt 1 discriminator 1 view .LVU197
 1234 005c FFF7FEFF 		bl	HAL_NVIC_SystemReset
 1235              	.LVL108:
 1236 0060 EFE7     		b	.L61
 1237              	.L79:
 286:Src/simcomAT.c ****         	break; 
 1238              		.loc 1 286 10 view .LVU198
 286:Src/simcomAT.c ****         	break; 
 1239              		.loc 1 286 43 is_stmt 0 view .LVU199
 1240 0062 3800     		movs	r0, r7
 1241 0064 FFF7FEFF 		bl	strlen
 1242              	.LVL109:
 286:Src/simcomAT.c ****         	break; 
 1243              		.loc 1 286 10 view .LVU200
 1244 0068 82B2     		uxth	r2, r0
 1245 006a 6423     		movs	r3, #100
 1246 006c 3900     		movs	r1, r7
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 29


 1247 006e CEA8     		add	r0, sp, #824
 1248 0070 FFF7FEFF 		bl	HAL_UART_Transmit
 1249              	.LVL110:
 287:Src/simcomAT.c ****         }
 1250              		.loc 1 287 10 is_stmt 1 view .LVU201
 293:Src/simcomAT.c **** 	}
 294:Src/simcomAT.c **** 
 295:Src/simcomAT.c **** 	// Remove and use continue
 296:Src/simcomAT.c **** 	if(!SimA7670C_Response(recv_buf, (uint8_t*)"OK", 10000)) HAL_NVIC_SystemReset(); 
 1251              		.loc 1 296 2 view .LVU202
 1252              		.loc 1 296 6 is_stmt 0 view .LVU203
 1253 0074 454A     		ldr	r2, .L82+8
 1254 0076 4649     		ldr	r1, .L82+12
 1255 0078 2800     		movs	r0, r5
 1256 007a FFF7FEFF 		bl	SimA7670C_Response
 1257              	.LVL111:
 1258              		.loc 1 296 4 view .LVU204
 1259 007e 0028     		cmp	r0, #0
 1260 0080 01D0     		beq	.L63
 1261              	.LBB8:
 297:Src/simcomAT.c ****     else for(uint16_t pos = 0; pos < 800; pos++) messages[pos] = '\0'; 
 1262              		.loc 1 297 23 view .LVU205
 1263 0082 0023     		movs	r3, #0
 1264 0084 07E0     		b	.L64
 1265              	.L63:
 1266              	.LBE8:
 296:Src/simcomAT.c ****     else for(uint16_t pos = 0; pos < 800; pos++) messages[pos] = '\0'; 
 1267              		.loc 1 296 59 is_stmt 1 discriminator 1 view .LVU206
 1268 0086 FFF7FEFF 		bl	HAL_NVIC_SystemReset
 1269              	.LVL112:
 1270 008a 08E0     		b	.L66
 1271              	.LVL113:
 1272              	.L67:
 1273              	.LBB9:
 1274              		.loc 1 297 50 discriminator 3 view .LVU207
 1275              		.loc 1 297 64 is_stmt 0 discriminator 3 view .LVU208
 1276 008c 0022     		movs	r2, #0
 1277 008e 6946     		mov	r1, sp
 1278 0090 CA54     		strb	r2, [r1, r3]
 1279              		.loc 1 297 43 is_stmt 1 discriminator 3 view .LVU209
 1280              		.loc 1 297 46 is_stmt 0 discriminator 3 view .LVU210
 1281 0092 0133     		adds	r3, r3, #1
 1282              	.LVL114:
 1283              		.loc 1 297 46 discriminator 3 view .LVU211
 1284 0094 9BB2     		uxth	r3, r3
 1285              	.LVL115:
 1286              	.L64:
 1287              		.loc 1 297 32 is_stmt 1 discriminator 1 view .LVU212
 1288              		.loc 1 297 10 is_stmt 0 discriminator 1 view .LVU213
 1289 0096 C822     		movs	r2, #200
 1290 0098 9200     		lsls	r2, r2, #2
 1291 009a 9342     		cmp	r3, r2
 1292 009c F6D3     		bcc	.L67
 1293              	.LVL116:
 1294              	.L66:
 1295              		.loc 1 297 10 discriminator 1 view .LVU214
 1296              	.LBE9:
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 30


 298:Src/simcomAT.c **** 	timeout = 2000;
 1297              		.loc 1 298 2 is_stmt 1 view .LVU215
 299:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 1298              		.loc 1 299 2 view .LVU216
 1299 009e 6420     		movs	r0, #100
 1300 00a0 FFF7FEFF 		bl	HAL_Delay
 1301              	.LVL117:
 300:Src/simcomAT.c **** 
 301:Src/simcomAT.c **** 	sprintf((char*)messages, "AT+CMQTTPAYLOAD=0,%d\r\n", strlen((char*)msg)); 
 1302              		.loc 1 301 2 view .LVU217
 1303 00a4 2000     		movs	r0, r4
 1304 00a6 FFF7FEFF 		bl	strlen
 1305              	.LVL118:
 1306 00aa 0200     		movs	r2, r0
 1307 00ac 3949     		ldr	r1, .L82+16
 1308 00ae 6846     		mov	r0, sp
 1309 00b0 FFF7FEFF 		bl	sprintf
 1310              	.LVL119:
 302:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, messages, strlen((char*)messages), 100); 
 1311              		.loc 1 302 2 view .LVU218
 1312              		.loc 1 302 38 is_stmt 0 view .LVU219
 1313 00b4 6846     		mov	r0, sp
 1314 00b6 FFF7FEFF 		bl	strlen
 1315              	.LVL120:
 1316              		.loc 1 302 2 view .LVU220
 1317 00ba 82B2     		uxth	r2, r0
 1318 00bc 6423     		movs	r3, #100
 1319 00be 6946     		mov	r1, sp
 1320 00c0 CEA8     		add	r0, sp, #824
 1321 00c2 FFF7FEFF 		bl	HAL_UART_Transmit
 1322              	.LVL121:
 303:Src/simcomAT.c **** 	HAL_Delay(2); 
 1323              		.loc 1 303 2 is_stmt 1 view .LVU221
 1324 00c6 0220     		movs	r0, #2
 1325 00c8 FFF7FEFF 		bl	HAL_Delay
 1326              	.LVL122:
 298:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 1327              		.loc 1 298 10 is_stmt 0 view .LVU222
 1328 00cc FA26     		movs	r6, #250
 1329 00ce F600     		lsls	r6, r6, #3
 1330              	.LVL123:
 1331              	.L68:
 304:Src/simcomAT.c **** 	while(1)
 1332              		.loc 1 304 2 is_stmt 1 view .LVU223
 305:Src/simcomAT.c ****     {
 306:Src/simcomAT.c ****         if(strstr((char*)recv_buf, ">")) 
 1333              		.loc 1 306 9 view .LVU224
 1334              		.loc 1 306 12 is_stmt 0 view .LVU225
 1335 00d0 3E21     		movs	r1, #62
 1336 00d2 2800     		movs	r0, r5
 1337 00d4 FFF7FEFF 		bl	strchr
 1338              	.LVL124:
 1339              		.loc 1 306 11 view .LVU226
 1340 00d8 0028     		cmp	r0, #0
 1341 00da 09D1     		bne	.L80
 307:Src/simcomAT.c ****         {
 308:Src/simcomAT.c ****         	HAL_UART_Transmit(&huart, msg, strlen((char*)msg), 100); 
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 31


 309:Src/simcomAT.c ****         	break; 
 310:Src/simcomAT.c ****         }
 311:Src/simcomAT.c ****         
 312:Src/simcomAT.c ****         HAL_Delay(1); 
 1342              		.loc 1 312 9 is_stmt 1 view .LVU227
 1343 00dc 0120     		movs	r0, #1
 1344 00de FFF7FEFF 		bl	HAL_Delay
 1345              	.LVL125:
 313:Src/simcomAT.c ****         timeout--; 
 1346              		.loc 1 313 9 view .LVU228
 1347              		.loc 1 313 16 is_stmt 0 view .LVU229
 1348 00e2 013E     		subs	r6, r6, #1
 1349              	.LVL126:
 1350              		.loc 1 313 16 view .LVU230
 1351 00e4 B6B2     		uxth	r6, r6
 1352              	.LVL127:
 314:Src/simcomAT.c ****         if(timeout == 0) HAL_NVIC_SystemReset();
 1353              		.loc 1 314 9 is_stmt 1 view .LVU231
 1354              		.loc 1 314 11 is_stmt 0 view .LVU232
 1355 00e6 002E     		cmp	r6, #0
 1356 00e8 F2D1     		bne	.L68
 1357              		.loc 1 314 26 is_stmt 1 discriminator 1 view .LVU233
 1358 00ea FFF7FEFF 		bl	HAL_NVIC_SystemReset
 1359              	.LVL128:
 1360 00ee EFE7     		b	.L68
 1361              	.L80:
 308:Src/simcomAT.c ****         	break; 
 1362              		.loc 1 308 10 view .LVU234
 308:Src/simcomAT.c ****         	break; 
 1363              		.loc 1 308 41 is_stmt 0 view .LVU235
 1364 00f0 2000     		movs	r0, r4
 1365 00f2 FFF7FEFF 		bl	strlen
 1366              	.LVL129:
 308:Src/simcomAT.c ****         	break; 
 1367              		.loc 1 308 10 view .LVU236
 1368 00f6 82B2     		uxth	r2, r0
 1369 00f8 6423     		movs	r3, #100
 1370 00fa 2100     		movs	r1, r4
 1371 00fc CEA8     		add	r0, sp, #824
 1372 00fe FFF7FEFF 		bl	HAL_UART_Transmit
 1373              	.LVL130:
 309:Src/simcomAT.c ****         }
 1374              		.loc 1 309 10 is_stmt 1 view .LVU237
 315:Src/simcomAT.c **** 	}
 316:Src/simcomAT.c **** 	if(!SimA7670C_Response(recv_buf, (uint8_t*)"OK", 10000)) HAL_NVIC_SystemReset(); 
 1375              		.loc 1 316 2 view .LVU238
 1376              		.loc 1 316 6 is_stmt 0 view .LVU239
 1377 0102 224A     		ldr	r2, .L82+8
 1378 0104 2249     		ldr	r1, .L82+12
 1379 0106 2800     		movs	r0, r5
 1380 0108 FFF7FEFF 		bl	SimA7670C_Response
 1381              	.LVL131:
 1382              		.loc 1 316 4 view .LVU240
 1383 010c 0028     		cmp	r0, #0
 1384 010e 01D0     		beq	.L70
 1385              	.LBB10:
 317:Src/simcomAT.c ****     else for(uint16_t pos = 0; pos < 800; pos++) messages[pos] = '\0'; 
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 32


 1386              		.loc 1 317 23 view .LVU241
 1387 0110 0023     		movs	r3, #0
 1388 0112 07E0     		b	.L71
 1389              	.L70:
 1390              	.LBE10:
 316:Src/simcomAT.c ****     else for(uint16_t pos = 0; pos < 800; pos++) messages[pos] = '\0'; 
 1391              		.loc 1 316 59 is_stmt 1 discriminator 1 view .LVU242
 1392 0114 FFF7FEFF 		bl	HAL_NVIC_SystemReset
 1393              	.LVL132:
 1394 0118 08E0     		b	.L73
 1395              	.LVL133:
 1396              	.L74:
 1397              	.LBB11:
 1398              		.loc 1 317 50 discriminator 3 view .LVU243
 1399              		.loc 1 317 64 is_stmt 0 discriminator 3 view .LVU244
 1400 011a 0022     		movs	r2, #0
 1401 011c 6946     		mov	r1, sp
 1402 011e CA54     		strb	r2, [r1, r3]
 1403              		.loc 1 317 43 is_stmt 1 discriminator 3 view .LVU245
 1404              		.loc 1 317 46 is_stmt 0 discriminator 3 view .LVU246
 1405 0120 0133     		adds	r3, r3, #1
 1406              	.LVL134:
 1407              		.loc 1 317 46 discriminator 3 view .LVU247
 1408 0122 9BB2     		uxth	r3, r3
 1409              	.LVL135:
 1410              	.L71:
 1411              		.loc 1 317 32 is_stmt 1 discriminator 1 view .LVU248
 1412              		.loc 1 317 10 is_stmt 0 discriminator 1 view .LVU249
 1413 0124 C822     		movs	r2, #200
 1414 0126 9200     		lsls	r2, r2, #2
 1415 0128 9342     		cmp	r3, r2
 1416 012a F6D3     		bcc	.L74
 1417              	.LVL136:
 1418              	.L73:
 1419              		.loc 1 317 10 discriminator 1 view .LVU250
 1420              	.LBE11:
 318:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 1421              		.loc 1 318 2 is_stmt 1 view .LVU251
 1422 012c 6420     		movs	r0, #100
 1423 012e FFF7FEFF 		bl	HAL_Delay
 1424              	.LVL137:
 319:Src/simcomAT.c **** 
 320:Src/simcomAT.c **** 	HAL_UART_Transmit(&huart, (uint8_t*)"AT+CMQTTPUB=0,1,60\r\n", strlen("AT+CMQTTPUB=0,1,60\r\n"), 10
 1425              		.loc 1 320 2 view .LVU252
 1426 0132 6423     		movs	r3, #100
 1427 0134 1422     		movs	r2, #20
 1428 0136 1849     		ldr	r1, .L82+20
 1429 0138 CEA8     		add	r0, sp, #824
 1430 013a FFF7FEFF 		bl	HAL_UART_Transmit
 1431              	.LVL138:
 321:Src/simcomAT.c **** 	HAL_Delay(2); 
 1432              		.loc 1 321 2 view .LVU253
 1433 013e 0220     		movs	r0, #2
 1434 0140 FFF7FEFF 		bl	HAL_Delay
 1435              	.LVL139:
 322:Src/simcomAT.c **** 
 323:Src/simcomAT.c **** 	// Remove and use continue
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 33


 324:Src/simcomAT.c **** 	if(!SimA7670C_Response(recv_buf, (uint8_t*)"+CMQTTPUB:", 10000)) HAL_NVIC_SystemReset(); 
 1436              		.loc 1 324 2 view .LVU254
 1437              		.loc 1 324 6 is_stmt 0 view .LVU255
 1438 0144 114A     		ldr	r2, .L82+8
 1439 0146 1549     		ldr	r1, .L82+24
 1440 0148 2800     		movs	r0, r5
 1441 014a FFF7FEFF 		bl	SimA7670C_Response
 1442              	.LVL140:
 1443              		.loc 1 324 4 view .LVU256
 1444 014e 0028     		cmp	r0, #0
 1445 0150 01D0     		beq	.L81
 1446              	.LBB12:
 325:Src/simcomAT.c ****     else for(uint16_t pos = 0; pos < 800; pos++) messages[pos] = '\0'; 
 1447              		.loc 1 325 23 view .LVU257
 1448 0152 0023     		movs	r3, #0
 1449 0154 07E0     		b	.L75
 1450              	.L81:
 1451              	.LBE12:
 324:Src/simcomAT.c ****     else for(uint16_t pos = 0; pos < 800; pos++) messages[pos] = '\0'; 
 1452              		.loc 1 324 67 is_stmt 1 discriminator 1 view .LVU258
 1453 0156 FFF7FEFF 		bl	HAL_NVIC_SystemReset
 1454              	.LVL141:
 1455 015a 08E0     		b	.L76
 1456              	.LVL142:
 1457              	.L77:
 1458              	.LBB13:
 1459              		.loc 1 325 50 discriminator 3 view .LVU259
 1460              		.loc 1 325 64 is_stmt 0 discriminator 3 view .LVU260
 1461 015c 0022     		movs	r2, #0
 1462 015e 6946     		mov	r1, sp
 1463 0160 CA54     		strb	r2, [r1, r3]
 1464              		.loc 1 325 43 is_stmt 1 discriminator 3 view .LVU261
 1465              		.loc 1 325 46 is_stmt 0 discriminator 3 view .LVU262
 1466 0162 0133     		adds	r3, r3, #1
 1467              	.LVL143:
 1468              		.loc 1 325 46 discriminator 3 view .LVU263
 1469 0164 9BB2     		uxth	r3, r3
 1470              	.LVL144:
 1471              	.L75:
 1472              		.loc 1 325 32 is_stmt 1 discriminator 1 view .LVU264
 1473              		.loc 1 325 10 is_stmt 0 discriminator 1 view .LVU265
 1474 0166 C822     		movs	r2, #200
 1475 0168 9200     		lsls	r2, r2, #2
 1476 016a 9342     		cmp	r3, r2
 1477 016c F6D3     		bcc	.L77
 1478              	.LVL145:
 1479              	.L76:
 1480              		.loc 1 325 10 discriminator 1 view .LVU266
 1481              	.LBE13:
 326:Src/simcomAT.c **** 	HAL_Delay(_ms_); 
 1482              		.loc 1 326 2 is_stmt 1 view .LVU267
 1483 016e 6420     		movs	r0, #100
 1484 0170 FFF7FEFF 		bl	HAL_Delay
 1485              	.LVL146:
 327:Src/simcomAT.c **** } 
 1486              		.loc 1 327 1 is_stmt 0 view .LVU268
 1487 0174 C923     		movs	r3, #201
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 34


 1488 0176 9B00     		lsls	r3, r3, #2
 1489 0178 9D44     		add	sp, sp, r3
 1490              		@ sp needed
 1491              	.LVL147:
 1492              		.loc 1 327 1 view .LVU269
 1493 017a F0BC     		pop	{r4, r5, r6, r7}
 1494 017c 08BC     		pop	{r3}
 1495 017e 04B0     		add	sp, sp, #16
 1496 0180 1847     		bx	r3
 1497              	.L83:
 1498 0182 C046     		.align	2
 1499              	.L82:
 1500 0184 DCFCFFFF 		.word	-804
 1501 0188 00000000 		.word	.LC34
 1502 018c 10270000 		.word	10000
 1503 0190 1C000000 		.word	.LC28
 1504 0194 18000000 		.word	.LC37
 1505 0198 30000000 		.word	.LC39
 1506 019c 48000000 		.word	.LC41
 1507              		.cfi_endproc
 1508              	.LFE326:
 1510              		.text
 1511              	.Letext0:
 1512              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1513              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1514              		.file 4 "Drivers/CMSIS/Device/ST/STM32G0xx/Include/stm32g070xx.h"
 1515              		.file 5 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_def.h"
 1516              		.file 6 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_dma.h"
 1517              		.file 7 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_uart.h"
 1518              		.file 8 "Inc/simcomAT.h"
 1519              		.file 9 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_ll_dma.h"
 1520              		.file 10 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 1521              		.file 11 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 1522              		.file 12 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal.h"
 1523              		.file 13 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_cortex.h"
 1524              		.file 14 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 1525              		.file 15 "<built-in>"
ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 35


DEFINED SYMBOLS
                            *ABS*:00000000 simcomAT.c
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:18     .text.SimA7670C_Response:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:24     .text.SimA7670C_Response:00000000 SimA7670C_Response
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:96     .rodata.RSSI_Sim4GLTE.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:100    .text.RSSI_Sim4GLTE:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:106    .text.RSSI_Sim4GLTE:00000000 RSSI_Sim4GLTE
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:212    .text.RSSI_Sim4GLTE:00000058 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:217    .rodata.Is_Insert_Sim_Card.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:221    .text.Is_Insert_Sim_Card:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:227    .text.Is_Insert_Sim_Card:00000000 Is_Insert_Sim_Card
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:265    .text.Is_Insert_Sim_Card:00000028 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:270    .rodata.SimA7670C_Reset.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:274    .text.SimA7670C_Reset:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:280    .text.SimA7670C_Reset:00000000 SimA7670C_Reset
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:331    .text.SimA7670C_Reset:0000003c $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:336    .rodata.SimA7670C_Echo.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:343    .text.SimA7670C_Echo:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:349    .text.SimA7670C_Echo:00000000 SimA7670C_Echo
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:408    .text.SimA7670C_Echo:00000040 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:414    .rodata.SimA7670C_PDP_Context_Config.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:418    .text.SimA7670C_PDP_Context_Config:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:424    .text.SimA7670C_PDP_Context_Config:00000000 SimA7670C_PDP_Context_Config
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:480    .text.SimA7670C_PDP_Context_Config:0000003c $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:485    .rodata.SimA7670C_PDP_Context_Set.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:489    .text.SimA7670C_PDP_Context_Set:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:495    .text.SimA7670C_PDP_Context_Set:00000000 SimA7670C_PDP_Context_Set
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:552    .text.SimA7670C_PDP_Context_Set:00000040 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:557    .rodata.SimA7670C_MQTT_StartService.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:561    .text.SimA7670C_MQTT_StartService:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:567    .text.SimA7670C_MQTT_StartService:00000000 SimA7670C_MQTT_StartService
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:605    .text.SimA7670C_MQTT_StartService:00000028 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:610    .rodata.SimA7670C_MQTT_StopService.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:614    .text.SimA7670C_MQTT_StopService:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:620    .text.SimA7670C_MQTT_StopService:00000000 SimA7670C_MQTT_StopService
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:658    .text.SimA7670C_MQTT_StopService:00000028 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:663    .rodata.SimA7670C_MQTT_Client_Config.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:667    .text.SimA7670C_MQTT_Client_Config:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:673    .text.SimA7670C_MQTT_Client_Config:00000000 SimA7670C_MQTT_Client_Config
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:727    .text.SimA7670C_MQTT_Client_Config:00000038 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:732    .rodata.SimA7670C_MQTT_BrokerConnect.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:737    .text.SimA7670C_MQTT_BrokerConnect:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:743    .text.SimA7670C_MQTT_BrokerConnect:00000000 SimA7670C_MQTT_BrokerConnect
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:803    .text.SimA7670C_MQTT_BrokerConnect:00000044 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:808    .rodata.SimA7670C_MQTT_BrokerDisconnect.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:815    .text.SimA7670C_MQTT_BrokerDisconnect:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:821    .text.SimA7670C_MQTT_BrokerDisconnect:00000000 SimA7670C_MQTT_BrokerDisconnect
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:870    .text.SimA7670C_MQTT_BrokerDisconnect:00000038 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:876    .rodata.SimA7670C_Mqtt_Subscribe.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:889    .text.SimA7670C_Mqtt_Subscribe:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:895    .text.SimA7670C_Mqtt_Subscribe:00000000 SimA7670C_Mqtt_Subscribe
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:1117   .text.SimA7670C_Mqtt_Subscribe:000000e4 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:1126   .rodata.SimA7670C_Mqtt_Publish.str1.4:00000000 $d
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:1139   .text.SimA7670C_Mqtt_Publish:00000000 $t
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:1145   .text.SimA7670C_Mqtt_Publish:00000000 SimA7670C_Mqtt_Publish
C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s:1500   .text.SimA7670C_Mqtt_Publish:00000184 $d

ARM GAS  C:\Users\EMBEDD~1\AppData\Local\Temp\ccIiIy6W.s 			page 36


UNDEFINED SYMBOLS
strstr
HAL_Delay
HAL_UART_Transmit
strchr
strlen
atoi
sprintf
HAL_NVIC_SystemReset
